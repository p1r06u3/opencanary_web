Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
200 GET / (192.168.109.1) 4.60ms
200 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 6.47ms
200 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 5.32ms
200 GET /static/css/app.792d56046d26e08153b89a4207657387.css (192.168.109.1) 33.78ms
200 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 39.20ms
200 GET /static/js/10.d0339e47b94453a8e7c8.js (192.168.109.1) 1.59ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.30ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 21.68ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 9.17ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 4.25ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 4.29ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 5.31ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 3.61ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 3.30ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 4.54ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 3.94ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 4.93ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:02:04 CST)" (scheduled at 2020-05-12 14:02:04.781547+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:02:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:02:34 CST)" (scheduled at 2020-05-12 14:02:34.781547+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:03:04 CST)" executed successfully
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 32.64ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 5.30ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 5.52ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 4.32ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:04:28 CST)" (scheduled at 2020-05-12 14:04:28.067386+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:04:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:04:58 CST)" (scheduled at 2020-05-12 14:04:58.067386+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:05:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:05:28 CST)" (scheduled at 2020-05-12 14:05:28.067386+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:05:58 CST)" executed successfully
200 GET /v1/login (192.168.109.1) 6.26ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.88ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:05:58 CST)" (scheduled at 2020-05-12 14:05:58.067386+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:06:28 CST)" executed successfully
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 10.30ms
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 16.67ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 5.16ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 6.84ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 6.44ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 6.72ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1698, "Access denied for user 'root'@'localhost'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 852, in _request_authentication
    auth_packet = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.InternalError: (pymysql.err.InternalError) (1698, "Access denied for user 'root'@'localhost'")
(Background on this error at: http://sqlalche.me/e/2j85)
500 POST /auth/ (192.168.109.1) 5.12ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:07:10 CST)" (scheduled at 2020-05-12 14:07:10.852781+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:07:40 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:07:40 CST)" (scheduled at 2020-05-12 14:07:40.852781+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:08:10 CST)" executed successfully
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/login (192.168.109.1) 3.72ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.51ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1045, "Access denied for user 'root'@'localhost' (using password: YES)")
(Background on this error at: http://sqlalche.me/e/e3q8)
500 POST /auth/ (192.168.109.1) 30.40ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:12:58 CST)" (scheduled at 2020-05-12 14:12:58.290812+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:13:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:13:28 CST)" (scheduled at 2020-05-12 14:13:28.290812+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:13:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:13:58 CST)" (scheduled at 2020-05-12 14:13:58.290812+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:13:58 CST)" executed successfully
/root/Desktop/opencanary_web/handlers/login.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 62, in post
    User.password == pwd).scalar()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3338, in _execute_and_instances
    querycontext, self._connection_from_session, close_with_result=True
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3353, in _get_bind_args
    mapper=self._bind_mapper(), clause=querycontext.statement, **kw
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1123, in connection
    execution_options=execution_options,
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 1129, in _connection_for_bind
    engine, execution_options
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2266, in _wrap_pool_connect
    e, dialect, self
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.7/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.7/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1045, "Access denied for user 'root'@'localhost' (using password: YES)")
(Background on this error at: http://sqlalche.me/e/e3q8)
500 POST /auth/ (192.168.109.1) 25.51ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:14:32 CST)" (scheduled at 2020-05-12 14:14:32.109706+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:15:02 CST)" executed successfully
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/login (192.168.109.1) 2.78ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.51ms
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 61, in post
    result = DBSession.query(User).filter(User.username == username,
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3337, in _execute_and_instances
    conn = self._get_bind_args(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3352, in _get_bind_args
    return fn(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1120, in connection
    return self._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1128, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    Connection._handle_dbapi_exception_noconnection(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1045, "Access denied for user 'root'@'localhost' (using password: YES)")
(Background on this error at: http://sqlalche.me/e/e3q8)
500 POST /auth/ (192.168.109.1) 17.68ms
/root/Desktop/opencanary_web/handlers/login.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 61, in post
    result = DBSession.query(User).filter(User.username == username,
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3337, in _execute_and_instances
    conn = self._get_bind_args(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3352, in _get_bind_args
    return fn(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1120, in connection
    return self._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1128, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    Connection._handle_dbapi_exception_noconnection(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1045, "Access denied for user 'root'@'localhost' (using password: YES)")
(Background on this error at: http://sqlalche.me/e/e3q8)
500 POST /auth/ (192.168.109.1) 76.61ms
/root/Desktop/opencanary_web/handlers/login.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Uncaught exception POST /auth/ (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='POST', uri='/auth/', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1045, "Access denied for user 'root'@'localhost' (using password: YES)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/login.py", line 61, in post
    result = DBSession.query(User).filter(User.username == username,
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3304, in scalar
    ret = self.one()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3274, in one
    ret = self.one_or_none()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3243, in one_or_none
    ret = list(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3316, in __iter__
    return self._execute_and_instances(context)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3337, in _execute_and_instances
    conn = self._get_bind_args(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3352, in _get_bind_args
    return fn(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/query.py", line 3331, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1120, in connection
    return self._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 1128, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/orm/session.py", line 430, in _connection_for_bind
    conn = bind._contextual_connect()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2226, in _contextual_connect
    self._wrap_pool_connect(self.pool.connect, None),
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2265, in _wrap_pool_connect
    Connection._handle_dbapi_exception_noconnection(
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 1536, in _handle_dbapi_exception_noconnection
    util.raise_from_cause(sqlalchemy_exception, exc_info)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 383, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 128, in reraise
    raise value.with_traceback(tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/base.py", line 2262, in _wrap_pool_connect
    return fn()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 354, in connect
    return _ConnectionFairy._checkout(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 751, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 483, in checkout
    rec = pool._do_get()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 138, in _do_get
    self._dec_overflow()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/util/compat.py", line 129, in reraise
    raise value
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/impl.py", line 135, in _do_get
    return self._create_connection()
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 299, in _create_connection
    return _ConnectionRecord(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 428, in __init__
    self.__connect(first_connect_check=True)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/pool/base.py", line 630, in __connect
    connection = pool._invoke_creator(self)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py", line 114, in connect
    return dialect.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/default.py", line 453, in connect
    return self.dbapi.connect(*cargs, **cparams)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/__init__.py", line 94, in Connect
    return Connection(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 327, in __init__
    self.connect()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 598, in connect
    self._request_authentication()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 862, in _request_authentication
    auth_packet = self._process_auth(plugin_name, auth_packet)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 933, in _process_auth
    pkt = self._read_packet()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/usr/local/lib/python3.8/dist-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/usr/local/lib/python3.8/dist-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1045, "Access denied for user 'root'@'localhost' (using password: YES)")
(Background on this error at: http://sqlalche.me/e/e3q8)
500 POST /auth/ (192.168.109.1) 49.99ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:18:16 CST)" (scheduled at 2020-05-12 14:18:16.443898+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:18:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:19:16 CST)" (scheduled at 2020-05-12 14:18:46.443898+08:00)
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:19:16 CST)" executed successfully
/root/Desktop/opencanary_web/dbs/initdb.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 39.30ms
200 GET /static/js/3.698f09cb0a45aa89451f.js (192.168.109.1) 18.45ms
200 GET /static/js/6.112b772b2de4752d4804.js (192.168.109.1) 28.15ms
200 GET /static/img/img.jpg (192.168.109.1) 2.36ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 29.93ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.60ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 6.09ms
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.08ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 15.12ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 14.98ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 5.33ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.35ms
200 GET /v1/dashboard (192.168.109.1) 1.39ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 9.78ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 4.05ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.68ms
200 GET /static/js/15.e5a998d7b6acda13aae0.js (192.168.109.1) 4.84ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.79ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 8.19ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:19:53 CST)" (scheduled at 2020-05-12 14:19:53.889933+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:20:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
200 GET /static/js/11.646a72ecb7c609ad5cce.js (192.168.109.1) 2.44ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.52ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 16.30ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
200 GET /log/list?type=2 (192.168.109.1) 3.35ms
200 GET /static/js/7.a2dc549f30ba3faee6cc.js (192.168.109.1) 1.82ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.67ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.02ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
200 GET /log/list?type=1 (192.168.109.1) 5.02ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:20:53 CST)" (scheduled at 2020-05-12 14:20:23.889933+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:20:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
200 GET /v1/filterlist (192.168.109.1) 2.39ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.72ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.84ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:21:13 CST)" (scheduled at 2020-05-12 14:21:13.394251+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:21:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:22:13 CST)" (scheduled at 2020-05-12 14:21:43.394251+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:22:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:22:43 CST)" (scheduled at 2020-05-12 14:22:13.394251+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:22:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:22:55 CST)" (scheduled at 2020-05-12 14:22:55.110202+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:23:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:23:52 CST)" (scheduled at 2020-05-12 14:23:52.088775+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:24:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
200 GET /v1/hoststatus (192.168.109.1) 3.05ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.73ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:24:41 CST)" (scheduled at 2020-05-12 14:24:41.499648+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:25:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 3.29ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.67ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:25:17 CST)" (scheduled at 2020-05-12 14:25:17.862610+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:25:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:26:17 CST)" (scheduled at 2020-05-12 14:25:47.862610+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:26:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:26:47 CST)" (scheduled at 2020-05-12 14:26:17.862610+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:26:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 2.06ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.26ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:27:17 CST)" (scheduled at 2020-05-12 14:27:17.911950+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:27:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/hoststatus (192.168.109.1) 1.77ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.57ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 2.57ms
304 GET /static/css/app.792d56046d26e08153b89a4207657387.css (192.168.109.1) 5.81ms
304 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 4.97ms
304 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 1.27ms
304 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 1.42ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.26ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 3.19ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:28:24 CST)" (scheduled at 2020-05-12 14:28:24.390513+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:28:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:29:24 CST)" (scheduled at 2020-05-12 14:28:54.390513+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:29:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 2.17ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.12ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:29:28 CST)" (scheduled at 2020-05-12 14:29:28.311776+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:29:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 3.17ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 41.78ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.74ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.80ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 15.84ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 4.24ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.65ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.47ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 10.63ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 21.12ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:30:14 CST)" (scheduled at 2020-05-12 14:30:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:30:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/dashboard (192.168.109.1) 1.50ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 19.14ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 7.71ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:31:14 CST)" (scheduled at 2020-05-12 14:30:44.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:31:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:31:44 CST)" (scheduled at 2020-05-12 14:31:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:31:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:32:14 CST)" (scheduled at 2020-05-12 14:31:44.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:32:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:32:44 CST)" (scheduled at 2020-05-12 14:32:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:32:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:33:14 CST)" (scheduled at 2020-05-12 14:32:44.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:33:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:33:44 CST)" (scheduled at 2020-05-12 14:33:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:33:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:34:14 CST)" (scheduled at 2020-05-12 14:33:44.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:34:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:34:44 CST)" (scheduled at 2020-05-12 14:34:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:34:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:35:14 CST)" (scheduled at 2020-05-12 14:34:44.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:35:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:35:44 CST)" (scheduled at 2020-05-12 14:35:14.995726+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:35:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /static/js/10.d0339e47b94453a8e7c8.js (192.168.109.1) 4.22ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.61ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/login (192.168.109.1) 3.54ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.37ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 41.68ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 37.07ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.56ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 17.53ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.39ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 13.01ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.79ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 39.84ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 8.11ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.31ms
304 GET /v1/login (192.168.109.1) 1.99ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.72ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 33.52ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 11.36ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 16.04ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.75ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.12ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 15.74ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.51ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 34.02ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 4.49ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:36:46 CST)" (scheduled at 2020-05-12 14:36:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:37:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.59ms
304 GET /v1/hoststatus (192.168.109.1) 1.49ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 6.85ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.35ms
304 GET /v1/hoststatus (192.168.109.1) 1.90ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 6.34ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
200 GET /static/js/14.c0479960e7e903e95586.js (192.168.109.1) 6.66ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.69ms
BEGIN (implicit)
SELECT `Whiteip`.src_host AS `Whiteip_src_host` 
FROM `Whiteip`
{}
ROLLBACK
200 GET /whiteiplist/ (192.168.109.1) 5.70ms
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport`
{}
ROLLBACK
200 GET /whiteport/ (192.168.109.1) 9.78ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:37:46 CST)" (scheduled at 2020-05-12 14:37:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:37:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:38:16 CST)" (scheduled at 2020-05-12 14:37:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:38:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:38:46 CST)" (scheduled at 2020-05-12 14:38:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:38:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:39:16 CST)" (scheduled at 2020-05-12 14:38:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:39:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:39:46 CST)" (scheduled at 2020-05-12 14:39:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:39:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
200 GET /static/js/16.c4738efe9cae4f4eee53.js (192.168.109.1) 2.43ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.48ms
200 GET /mail/ (192.168.109.1) 2.11ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:40:16 CST)" (scheduled at 2020-05-12 14:39:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:40:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.18ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.12ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 6.05ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.57ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.68ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 4.59ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.24ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.83ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:40:46 CST)" (scheduled at 2020-05-12 14:40:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:40:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.92ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:41:16 CST)" (scheduled at 2020-05-12 14:40:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:41:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/filterlist (192.168.109.1) 1.20ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.37ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 3.81ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.98ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:41:46 CST)" (scheduled at 2020-05-12 14:41:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:41:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:42:16 CST)" (scheduled at 2020-05-12 14:41:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:42:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/filterlist (192.168.109.1) 1.73ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.83ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 6.85ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.61ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:42:46 CST)" (scheduled at 2020-05-12 14:42:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:42:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:43:16 CST)" (scheduled at 2020-05-12 14:42:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:43:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:43:46 CST)" (scheduled at 2020-05-12 14:43:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:43:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:44:16 CST)" (scheduled at 2020-05-12 14:43:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:44:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/filterlist (192.168.109.1) 1.32ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 7.34ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 3.02ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 4.00ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.25ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 9.43ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 3.39ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:44:46 CST)" (scheduled at 2020-05-12 14:44:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:44:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.40ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.49ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 6.31ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 12.99ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.25ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 4.29ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:45:16 CST)" (scheduled at 2020-05-12 14:44:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:45:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:45:46 CST)" (scheduled at 2020-05-12 14:45:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:45:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:46:16 CST)" (scheduled at 2020-05-12 14:45:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:46:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:46:46 CST)" (scheduled at 2020-05-12 14:46:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:46:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:47:16 CST)" (scheduled at 2020-05-12 14:46:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:47:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:47:46 CST)" (scheduled at 2020-05-12 14:47:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:47:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:48:16 CST)" (scheduled at 2020-05-12 14:47:46.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:48:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.04ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.41ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 5.59ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 27.56ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:48:46 CST)" (scheduled at 2020-05-12 14:48:16.799616+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:48:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/dashboard (192.168.109.1) 1.93ms
304 GET /static/js/3.698f09cb0a45aa89451f.js (192.168.109.1) 3.40ms
304 GET /static/js/6.112b772b2de4752d4804.js (192.168.109.1) 2.17ms
304 GET /static/img/img.jpg (192.168.109.1) 1.45ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.13ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.11ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 24.28ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.47ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:49:13 CST)" (scheduled at 2020-05-12 14:49:13.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:49:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 19.38ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 13.02ms
304 GET /static/js/15.e5a998d7b6acda13aae0.js (192.168.109.1) 1.54ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.16ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 6.02ms
304 GET /static/js/11.646a72ecb7c609ad5cce.js (192.168.109.1) 1.42ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.73ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 31.58ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 5.84ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.48ms
304 GET /v1/dashboard (192.168.109.1) 1.39ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 11.46ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 5.25ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.28ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:50:13 CST)" (scheduled at 2020-05-12 14:49:43.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:50:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:50:43 CST)" (scheduled at 2020-05-12 14:50:13.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:50:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:51:13 CST)" (scheduled at 2020-05-12 14:50:43.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:51:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:51:43 CST)" (scheduled at 2020-05-12 14:51:13.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:51:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:52:13 CST)" (scheduled at 2020-05-12 14:51:43.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:52:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/dashboard (192.168.109.1) 1.86ms
BEGIN (implicit)
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:52:43 CST)" (scheduled at 2020-05-12 14:52:13.877397+08:00)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
304 GET /chart?line (192.168.109.1) 26.52ms
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:52:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 10.32ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.13ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:53:13 CST)" (scheduled at 2020-05-12 14:52:43.877397+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:53:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/dashboard (192.168.109.1) 4.63ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.28ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.49ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 27.27ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.82ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:53:18 CST)" (scheduled at 2020-05-12 14:53:18.301941+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:53:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 8.93ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 4.22ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/dashboard (192.168.109.1) 2.31ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.51ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.29ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 53.46ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.47ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 16.28ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 7.10ms
304 GET /static/js/7.a2dc549f30ba3faee6cc.js (192.168.109.1) 6.03ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.56ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 8.99ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:53:58 CST)" (scheduled at 2020-05-12 14:53:58.734415+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:54:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.53ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.63ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.25ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 17.67ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 7.55ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.03ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 8.86ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 2.82ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:54:58 CST)" (scheduled at 2020-05-12 14:54:28.734415+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:54:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.72ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 55.88ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 64.53ms
304 GET /v1/dashboard (192.168.109.1) 1.13ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 11.75ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 6.73ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.88ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:55:03 CST)" (scheduled at 2020-05-12 14:55:03.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:55:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/dashboard (192.168.109.1) 1.37ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 10.04ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 7.64ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.42ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:56:03 CST)" (scheduled at 2020-05-12 14:55:33.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:56:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 11.43ms
404 GET /favicon.ico (192.168.109.1) 1.78ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:56:33 CST)" (scheduled at 2020-05-12 14:56:03.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:56:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:57:03 CST)" (scheduled at 2020-05-12 14:56:33.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:57:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:57:33 CST)" (scheduled at 2020-05-12 14:57:03.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:57:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:58:03 CST)" (scheduled at 2020-05-12 14:57:33.855260+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:58:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:58:14 CST)" (scheduled at 2020-05-12 14:58:14.181207+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:58:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:59:14 CST)" (scheduled at 2020-05-12 14:58:44.181207+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:59:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:59:44 CST)" (scheduled at 2020-05-12 14:59:14.181207+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 14:59:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:00:14 CST)" (scheduled at 2020-05-12 14:59:44.181207+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:00:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:00:44 CST)" (scheduled at 2020-05-12 15:00:14.181207+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:00:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 44.12ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:00:59 CST)" (scheduled at 2020-05-12 15:00:59.737708+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:01:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 22.92ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:01:34 CST)" (scheduled at 2020-05-12 15:01:34.886624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:02:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 112, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 43, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 29.30ms
304 GET /static/css/app.792d56046d26e08153b89a4207657387.css (192.168.109.1) 6.29ms
304 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 1.25ms
304 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 4.68ms
304 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 0.89ms
200 GET /static/js/8.784f66fb79adaf101042.js (192.168.109.1) 2.25ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.76ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 112, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 43, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 10.20ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.02ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:02:23 CST)" (scheduled at 2020-05-12 15:02:23.625557+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:02:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.75ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 35.95ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 6.50ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:03:23 CST)" (scheduled at 2020-05-12 15:02:53.625557+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:03:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 112, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 43, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 15.17ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 5.15ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:03:53 CST)" (scheduled at 2020-05-12 15:03:23.625557+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:03:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:04:23 CST)" (scheduled at 2020-05-12 15:03:53.625557+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:04:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:04:53 CST)" (scheduled at 2020-05-12 15:04:23.625557+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:04:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 40.20ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.94ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:05:18 CST)" (scheduled at 2020-05-12 15:05:18.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:05:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:06:18 CST)" (scheduled at 2020-05-12 15:05:48.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:06:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 6.80ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.00ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:06:48 CST)" (scheduled at 2020-05-12 15:06:18.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:06:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 5.72ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.43ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.71ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 20, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 18.68ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:07:18 CST)" (scheduled at 2020-05-12 15:06:48.309132+08:00)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:07:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:07:48 CST)" (scheduled at 2020-05-12 15:07:18.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:07:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:08:18 CST)" (scheduled at 2020-05-12 15:07:48.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:08:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:08:48 CST)" (scheduled at 2020-05-12 15:08:18.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:08:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:09:18 CST)" (scheduled at 2020-05-12 15:08:48.309132+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:09:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/dbs/dal/LogOperate.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 31.04ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.19ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:09:37 CST)" (scheduled at 2020-05-12 15:09:37.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:10:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 7.58ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.94ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:10:37 CST)" (scheduled at 2020-05-12 15:10:07.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:10:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:11:07 CST)" (scheduled at 2020-05-12 15:10:37.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:11:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 9.86ms
200 GET /v1/404?line (192.168.109.1) 1.77ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.06ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 7.64ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:11:37 CST)" (scheduled at 2020-05-12 15:11:07.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:11:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.29ms
200 GET /v1/attacklist (192.168.109.1) 1.40ms
304 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 4.44ms
304 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 1.40ms
304 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 5.83ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 30.68ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 19.56ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.23ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:12:07 CST)" (scheduled at 2020-05-12 15:11:37.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:12:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 10.45ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 10.00ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 6.78ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 11.00ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "NoneType") to str
500 GET /chart?line (192.168.109.1) 6.54ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:12:37 CST)" (scheduled at 2020-05-12 15:12:07.103474+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:12:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/dbs/dal/LogOperate.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 58.04ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:12:40 CST)" (scheduled at 2020-05-12 15:12:40.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:13:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:13:40 CST)" (scheduled at 2020-05-12 15:13:10.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:13:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:14:10 CST)" (scheduled at 2020-05-12 15:13:40.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:14:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:14:40 CST)" (scheduled at 2020-05-12 15:14:10.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:14:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:15:10 CST)" (scheduled at 2020-05-12 15:14:40.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:15:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:15:40 CST)" (scheduled at 2020-05-12 15:15:10.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:15:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:16:10 CST)" (scheduled at 2020-05-12 15:15:40.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:16:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.83ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 11.09ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 12.14ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:16:40 CST)" (scheduled at 2020-05-12 15:16:10.023435+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:16:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/dashboard (192.168.109.1) 2.70ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 22.92ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 11.57ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.63ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:16:53 CST)" (scheduled at 2020-05-12 15:16:53.942990+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:17:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 6.63ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 75.88ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 12.22ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 26.04ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 83.43ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 93.69ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 8.09ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 49.75ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 24.55ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 27.94ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 22.83ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:19:04 CST)" (scheduled at 2020-05-12 15:19:04.583222+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:19:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 109.52ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:20:11 CST)" (scheduled at 2020-05-12 15:20:11.433190+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:20:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
Uncaught exception GET /chart?line (192.168.109.1)
HTTPServerRequest(protocol='http', host='192.168.109.131', method='GET', uri='/chart?line', version='HTTP/1.1', remote_ip='192.168.109.1')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/tornado/web.py", line 1590, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "/root/Desktop/opencanary_web/handlers/chart.py", line 44, in get
    line_res = line_total_num(sourceDataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 113, in line_total_num
    data_attack = attack_num(sdataz)
  File "/root/Desktop/opencanary_web/service/chartservice.py", line 44, in attack_num
    print("attack_res: "+attack_res)
TypeError: can only concatenate str (not "list") to str
500 GET /chart?line (192.168.109.1) 32.50ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:21:11 CST)" (scheduled at 2020-05-12 15:21:11.842095+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:21:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:22:11 CST)" (scheduled at 2020-05-12 15:21:41.842095+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:22:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:22:41 CST)" (scheduled at 2020-05-12 15:22:11.842095+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:22:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 37.39ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:23:07 CST)" (scheduled at 2020-05-12 15:23:07.688629+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:23:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 89.50ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:23:58 CST)" (scheduled at 2020-05-12 15:23:58.257447+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:24:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 17.75ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 87.35ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:25:06 CST)" (scheduled at 2020-05-12 15:25:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:25:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:26:06 CST)" (scheduled at 2020-05-12 15:25:36.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:26:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:26:36 CST)" (scheduled at 2020-05-12 15:26:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:26:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:27:06 CST)" (scheduled at 2020-05-12 15:26:36.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:27:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:27:36 CST)" (scheduled at 2020-05-12 15:27:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:27:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:28:06 CST)" (scheduled at 2020-05-12 15:27:36.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:28:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:28:36 CST)" (scheduled at 2020-05-12 15:28:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:28:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:29:06 CST)" (scheduled at 2020-05-12 15:28:36.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:29:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /static/js/11.646a72ecb7c609ad5cce.js (192.168.109.1) 4.33ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.74ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 35.99ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 5.88ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:29:36 CST)" (scheduled at 2020-05-12 15:29:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:29:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:30:06 CST)" (scheduled at 2020-05-12 15:29:36.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:30:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:30:36 CST)" (scheduled at 2020-05-12 15:30:06.489639+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:30:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/dbs/dal/LogOperate.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 97.41ms
/root/Desktop/opencanary_web/dbs/dal/LogOperate.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 62.30ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:31:23 CST)" (scheduled at 2020-05-12 15:31:23.362264+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:31:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 25.67ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:32:03 CST)" (scheduled at 2020-05-12 15:32:03.354382+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:32:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/dbs/dal/LogOperate.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 55.12ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.69ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 9.87ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 4.88ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:33:02 CST)" (scheduled at 2020-05-12 15:33:02.910659+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:33:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/dashboard (192.168.109.1) 2.44ms
304 GET /static/js/3.698f09cb0a45aa89451f.js (192.168.109.1) 3.32ms
304 GET /static/js/6.112b772b2de4752d4804.js (192.168.109.1) 2.19ms
304 GET /static/img/img.jpg (192.168.109.1) 0.91ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 129.57ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 23.42ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.01ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.68ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 28.21ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 22.84ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 10, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 18.91ms
ROLLBACK
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 20, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 12.83ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:33:55 CST)" (scheduled at 2020-05-12 15:33:55.699554+08:00)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:34:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:34:55 CST)" (scheduled at 2020-05-12 15:34:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:34:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:35:25 CST)" (scheduled at 2020-05-12 15:34:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:35:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:35:55 CST)" (scheduled at 2020-05-12 15:35:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:35:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:36:25 CST)" (scheduled at 2020-05-12 15:35:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:36:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:36:55 CST)" (scheduled at 2020-05-12 15:36:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:36:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:37:25 CST)" (scheduled at 2020-05-12 15:36:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:37:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:37:55 CST)" (scheduled at 2020-05-12 15:37:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:37:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:38:25 CST)" (scheduled at 2020-05-12 15:37:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:38:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /static/js/15.e5a998d7b6acda13aae0.js (192.168.109.1) 1.93ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.27ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 7.87ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.65ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 12.13ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 8.23ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.78ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:38:55 CST)" (scheduled at 2020-05-12 15:38:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:38:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:39:25 CST)" (scheduled at 2020-05-12 15:38:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:39:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:39:55 CST)" (scheduled at 2020-05-12 15:39:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:39:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:40:25 CST)" (scheduled at 2020-05-12 15:39:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:40:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:40:55 CST)" (scheduled at 2020-05-12 15:40:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:40:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:41:25 CST)" (scheduled at 2020-05-12 15:40:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:41:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:41:55 CST)" (scheduled at 2020-05-12 15:41:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:41:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:42:25 CST)" (scheduled at 2020-05-12 15:41:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:42:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:42:55 CST)" (scheduled at 2020-05-12 15:42:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:42:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:43:25 CST)" (scheduled at 2020-05-12 15:42:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:43:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:43:55 CST)" (scheduled at 2020-05-12 15:43:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:43:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:44:25 CST)" (scheduled at 2020-05-12 15:43:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:44:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:44:55 CST)" (scheduled at 2020-05-12 15:44:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:44:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:45:25 CST)" (scheduled at 2020-05-12 15:44:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:45:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:45:55 CST)" (scheduled at 2020-05-12 15:45:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:45:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:46:25 CST)" (scheduled at 2020-05-12 15:45:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:46:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:46:55 CST)" (scheduled at 2020-05-12 15:46:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:46:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:47:25 CST)" (scheduled at 2020-05-12 15:46:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:47:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:47:55 CST)" (scheduled at 2020-05-12 15:47:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:47:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:48:25 CST)" (scheduled at 2020-05-12 15:47:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:48:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:48:55 CST)" (scheduled at 2020-05-12 15:48:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:48:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:49:25 CST)" (scheduled at 2020-05-12 15:48:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:49:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:49:55 CST)" (scheduled at 2020-05-12 15:49:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:49:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:50:25 CST)" (scheduled at 2020-05-12 15:49:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:50:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:50:55 CST)" (scheduled at 2020-05-12 15:50:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:50:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:51:25 CST)" (scheduled at 2020-05-12 15:50:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:51:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:51:55 CST)" (scheduled at 2020-05-12 15:51:25.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:51:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:52:25 CST)" (scheduled at 2020-05-12 15:51:55.699554+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:52:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 3.59ms
304 GET /static/css/app.792d56046d26e08153b89a4207657387.css (192.168.109.1) 4.57ms
304 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 5.66ms
304 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 0.80ms
304 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 0.93ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.67ms
304 GET /static/js/10.d0339e47b94453a8e7c8.js (192.168.109.1) 1.58ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.98ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 48.60ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 20.38ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 5.61ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.44ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.56ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.39ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 19.75ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 9.54ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.33ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:56:27 CST)" (scheduled at 2020-05-12 15:56:27.870108+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:56:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/handlers/host.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET /v1/hoststatus (192.168.109.1) 2.64ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 49.68ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.77ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:57:09 CST)" (scheduled at 2020-05-12 15:57:09.348876+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:57:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:58:09 CST)" (scheduled at 2020-05-12 15:57:39.348876+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:58:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:58:39 CST)" (scheduled at 2020-05-12 15:58:09.348876+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:58:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 15:58:57.374637+08:00 (in 29.999035 seconds)
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 15:59:10.682632+08:00 (in 29.999487 seconds)
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:59:10 CST)" (scheduled at 2020-05-12 15:59:10.682632+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:59:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 15:59:47 CST)" (scheduled at 2020-05-12 15:59:47.595012+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:00:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 38, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:00:47 CST)" (scheduled at 2020-05-12 16:00:17.595012+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:00:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 38, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:00:52.983801+08:00 (in 29.999609 seconds)
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:00:52 CST)" (scheduled at 2020-05-12 16:00:52.983801+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:01:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 38, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:01:43.121816+08:00 (in 29.999039 seconds)
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:01:31.464816+08:00 (in 0.999612 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:31 CST)" (scheduled at 2020-05-12 16:01:31.464816+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:01:33.708520+08:00 (in 0.999687 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:33 CST)" (scheduled at 2020-05-12 16:01:33.708520+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:35 CST)" (scheduled at 2020-05-12 16:01:34.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:36 CST)" (scheduled at 2020-05-12 16:01:35.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:37 CST)" (scheduled at 2020-05-12 16:01:36.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:38 CST)" (scheduled at 2020-05-12 16:01:37.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:39 CST)" (scheduled at 2020-05-12 16:01:38.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:40 CST)" (scheduled at 2020-05-12 16:01:39.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:41 CST)" (scheduled at 2020-05-12 16:01:40.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:42 CST)" (scheduled at 2020-05-12 16:01:41.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/hoststatus (192.168.109.1) 2.35ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 6.49ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.57ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:43 CST)" (scheduled at 2020-05-12 16:01:42.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:44 CST)" (scheduled at 2020-05-12 16:01:43.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:45 CST)" (scheduled at 2020-05-12 16:01:44.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:46 CST)" (scheduled at 2020-05-12 16:01:45.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:47 CST)" (scheduled at 2020-05-12 16:01:46.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:48 CST)" (scheduled at 2020-05-12 16:01:47.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:49 CST)" (scheduled at 2020-05-12 16:01:48.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:50 CST)" (scheduled at 2020-05-12 16:01:49.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:51 CST)" (scheduled at 2020-05-12 16:01:50.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:52 CST)" (scheduled at 2020-05-12 16:01:51.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:53 CST)" (scheduled at 2020-05-12 16:01:52.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:54 CST)" (scheduled at 2020-05-12 16:01:53.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:55 CST)" (scheduled at 2020-05-12 16:01:54.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:56 CST)" (scheduled at 2020-05-12 16:01:55.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:57 CST)" (scheduled at 2020-05-12 16:01:56.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:58 CST)" (scheduled at 2020-05-12 16:01:57.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:59 CST)" (scheduled at 2020-05-12 16:01:58.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:01:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:00 CST)" (scheduled at 2020-05-12 16:01:59.708520+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 39, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:02:02.124782+08:00 (in 0.997908 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:02 CST)" (scheduled at 2020-05-12 16:02:02.124782+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:04 CST)" (scheduled at 2020-05-12 16:02:03.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:05 CST)" (scheduled at 2020-05-12 16:02:04.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:06 CST)" (scheduled at 2020-05-12 16:02:05.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:07 CST)" (scheduled at 2020-05-12 16:02:06.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:08 CST)" (scheduled at 2020-05-12 16:02:07.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:09 CST)" (scheduled at 2020-05-12 16:02:08.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:10 CST)" (scheduled at 2020-05-12 16:02:09.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:11 CST)" (scheduled at 2020-05-12 16:02:10.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:12 CST)" (scheduled at 2020-05-12 16:02:11.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:13 CST)" (scheduled at 2020-05-12 16:02:12.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:14 CST)" (scheduled at 2020-05-12 16:02:13.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:15 CST)" (scheduled at 2020-05-12 16:02:14.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:16 CST)" (scheduled at 2020-05-12 16:02:15.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:17 CST)" (scheduled at 2020-05-12 16:02:16.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:18 CST)" (scheduled at 2020-05-12 16:02:17.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:19 CST)" (scheduled at 2020-05-12 16:02:18.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:20 CST)" (scheduled at 2020-05-12 16:02:19.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:21 CST)" (scheduled at 2020-05-12 16:02:20.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:22 CST)" (scheduled at 2020-05-12 16:02:21.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:23 CST)" (scheduled at 2020-05-12 16:02:22.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:24 CST)" (scheduled at 2020-05-12 16:02:23.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:25 CST)" (scheduled at 2020-05-12 16:02:24.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:26 CST)" (scheduled at 2020-05-12 16:02:25.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:27 CST)" (scheduled at 2020-05-12 16:02:26.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:28 CST)" (scheduled at 2020-05-12 16:02:27.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:29 CST)" (scheduled at 2020-05-12 16:02:28.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:30 CST)" (scheduled at 2020-05-12 16:02:29.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:31 CST)" (scheduled at 2020-05-12 16:02:30.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:32 CST)" (scheduled at 2020-05-12 16:02:31.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:33 CST)" (scheduled at 2020-05-12 16:02:32.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:34 CST)" (scheduled at 2020-05-12 16:02:33.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:35 CST)" (scheduled at 2020-05-12 16:02:34.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:36 CST)" (scheduled at 2020-05-12 16:02:35.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:37 CST)" (scheduled at 2020-05-12 16:02:36.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:38 CST)" (scheduled at 2020-05-12 16:02:37.124782+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:39 CST)" (scheduled at 2020-05-12 16:02:39.451887+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:41 CST)" (scheduled at 2020-05-12 16:02:40.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:42 CST)" (scheduled at 2020-05-12 16:02:41.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:43 CST)" (scheduled at 2020-05-12 16:02:42.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:44 CST)" (scheduled at 2020-05-12 16:02:43.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:45 CST)" (scheduled at 2020-05-12 16:02:44.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:46 CST)" (scheduled at 2020-05-12 16:02:45.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:47 CST)" (scheduled at 2020-05-12 16:02:46.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:48 CST)" (scheduled at 2020-05-12 16:02:47.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:49 CST)" (scheduled at 2020-05-12 16:02:48.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:50 CST)" (scheduled at 2020-05-12 16:02:49.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:51 CST)" (scheduled at 2020-05-12 16:02:50.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:52 CST)" (scheduled at 2020-05-12 16:02:51.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:53 CST)" (scheduled at 2020-05-12 16:02:52.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:54 CST)" (scheduled at 2020-05-12 16:02:53.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:55 CST)" (scheduled at 2020-05-12 16:02:54.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:56 CST)" (scheduled at 2020-05-12 16:02:55.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:57 CST)" (scheduled at 2020-05-12 16:02:56.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:58 CST)" (scheduled at 2020-05-12 16:02:57.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:59 CST)" (scheduled at 2020-05-12 16:02:58.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:02:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:00 CST)" (scheduled at 2020-05-12 16:02:59.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:01 CST)" (scheduled at 2020-05-12 16:03:00.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:01 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:02 CST)" (scheduled at 2020-05-12 16:03:01.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:03 CST)" (scheduled at 2020-05-12 16:03:02.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:04 CST)" (scheduled at 2020-05-12 16:03:03.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:05 CST)" (scheduled at 2020-05-12 16:03:04.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:06 CST)" (scheduled at 2020-05-12 16:03:05.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:07 CST)" (scheduled at 2020-05-12 16:03:06.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:08 CST)" (scheduled at 2020-05-12 16:03:07.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:09 CST)" (scheduled at 2020-05-12 16:03:08.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:10 CST)" (scheduled at 2020-05-12 16:03:09.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:11 CST)" (scheduled at 2020-05-12 16:03:10.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:12 CST)" (scheduled at 2020-05-12 16:03:11.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:13 CST)" (scheduled at 2020-05-12 16:03:12.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:14 CST)" (scheduled at 2020-05-12 16:03:13.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:15 CST)" (scheduled at 2020-05-12 16:03:14.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:16 CST)" (scheduled at 2020-05-12 16:03:15.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:17 CST)" (scheduled at 2020-05-12 16:03:16.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:18 CST)" (scheduled at 2020-05-12 16:03:17.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:19 CST)" (scheduled at 2020-05-12 16:03:18.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:20 CST)" (scheduled at 2020-05-12 16:03:19.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:21 CST)" (scheduled at 2020-05-12 16:03:20.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:22 CST)" (scheduled at 2020-05-12 16:03:21.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:23 CST)" (scheduled at 2020-05-12 16:03:22.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:24 CST)" (scheduled at 2020-05-12 16:03:23.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:25 CST)" (scheduled at 2020-05-12 16:03:24.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:26 CST)" (scheduled at 2020-05-12 16:03:25.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:27 CST)" (scheduled at 2020-05-12 16:03:26.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:28 CST)" (scheduled at 2020-05-12 16:03:27.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:29 CST)" (scheduled at 2020-05-12 16:03:28.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:30 CST)" (scheduled at 2020-05-12 16:03:29.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:31 CST)" (scheduled at 2020-05-12 16:03:30.451887+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:03:32.816890+08:00 (in 0.998822 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:32 CST)" (scheduled at 2020-05-12 16:03:32.816890+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:34 CST)" (scheduled at 2020-05-12 16:03:33.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:35 CST)" (scheduled at 2020-05-12 16:03:34.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:36 CST)" (scheduled at 2020-05-12 16:03:35.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:37 CST)" (scheduled at 2020-05-12 16:03:36.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:38 CST)" (scheduled at 2020-05-12 16:03:37.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:39 CST)" (scheduled at 2020-05-12 16:03:38.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:40 CST)" (scheduled at 2020-05-12 16:03:39.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:41 CST)" (scheduled at 2020-05-12 16:03:40.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:42 CST)" (scheduled at 2020-05-12 16:03:41.816890+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:03:44.101594+08:00 (in 0.999547 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:44 CST)" (scheduled at 2020-05-12 16:03:44.101594+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:46 CST)" (scheduled at 2020-05-12 16:03:45.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:47 CST)" (scheduled at 2020-05-12 16:03:46.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:48 CST)" (scheduled at 2020-05-12 16:03:47.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:49 CST)" (scheduled at 2020-05-12 16:03:48.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:50 CST)" (scheduled at 2020-05-12 16:03:49.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:51 CST)" (scheduled at 2020-05-12 16:03:50.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:52 CST)" (scheduled at 2020-05-12 16:03:51.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:53 CST)" (scheduled at 2020-05-12 16:03:52.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:54 CST)" (scheduled at 2020-05-12 16:03:53.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:55 CST)" (scheduled at 2020-05-12 16:03:54.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:56 CST)" (scheduled at 2020-05-12 16:03:55.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:57 CST)" (scheduled at 2020-05-12 16:03:56.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:58 CST)" (scheduled at 2020-05-12 16:03:57.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:59 CST)" (scheduled at 2020-05-12 16:03:58.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:03:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:00 CST)" (scheduled at 2020-05-12 16:03:59.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:01 CST)" (scheduled at 2020-05-12 16:04:00.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:01 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:02 CST)" (scheduled at 2020-05-12 16:04:01.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:03 CST)" (scheduled at 2020-05-12 16:04:02.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:04 CST)" (scheduled at 2020-05-12 16:04:03.101594+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 37, in hostonline
    print(time_value.second)
AttributeError: 'datetime.timedelta' object has no attribute 'second'
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:04:05.416900+08:00 (in 0.999514 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:05 CST)" (scheduled at 2020-05-12 16:04:05.416900+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:07 CST)" (scheduled at 2020-05-12 16:04:06.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:08 CST)" (scheduled at 2020-05-12 16:04:07.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:09 CST)" (scheduled at 2020-05-12 16:04:08.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:10 CST)" (scheduled at 2020-05-12 16:04:09.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:11 CST)" (scheduled at 2020-05-12 16:04:10.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:12 CST)" (scheduled at 2020-05-12 16:04:11.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:13 CST)" (scheduled at 2020-05-12 16:04:12.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:14 CST)" (scheduled at 2020-05-12 16:04:13.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:15 CST)" (scheduled at 2020-05-12 16:04:14.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:16 CST)" (scheduled at 2020-05-12 16:04:15.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:17 CST)" (scheduled at 2020-05-12 16:04:16.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:18 CST)" (scheduled at 2020-05-12 16:04:17.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:19 CST)" (scheduled at 2020-05-12 16:04:18.416900+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:04:20.628467+08:00 (in 0.999029 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:20 CST)" (scheduled at 2020-05-12 16:04:20.628467+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:22 CST)" (scheduled at 2020-05-12 16:04:21.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:23 CST)" (scheduled at 2020-05-12 16:04:22.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:24 CST)" (scheduled at 2020-05-12 16:04:23.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:25 CST)" (scheduled at 2020-05-12 16:04:24.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:26 CST)" (scheduled at 2020-05-12 16:04:25.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:27 CST)" (scheduled at 2020-05-12 16:04:26.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:28 CST)" (scheduled at 2020-05-12 16:04:27.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:29 CST)" (scheduled at 2020-05-12 16:04:28.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:30 CST)" (scheduled at 2020-05-12 16:04:29.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:31 CST)" (scheduled at 2020-05-12 16:04:30.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:32 CST)" (scheduled at 2020-05-12 16:04:31.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:33 CST)" (scheduled at 2020-05-12 16:04:32.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:34 CST)" (scheduled at 2020-05-12 16:04:33.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:35 CST)" (scheduled at 2020-05-12 16:04:34.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:36 CST)" (scheduled at 2020-05-12 16:04:35.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:37 CST)" (scheduled at 2020-05-12 16:04:36.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:38 CST)" (scheduled at 2020-05-12 16:04:37.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:39 CST)" (scheduled at 2020-05-12 16:04:38.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:40 CST)" (scheduled at 2020-05-12 16:04:39.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:41 CST)" (scheduled at 2020-05-12 16:04:40.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:42 CST)" (scheduled at 2020-05-12 16:04:41.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:43 CST)" (scheduled at 2020-05-12 16:04:42.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:44 CST)" (scheduled at 2020-05-12 16:04:43.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:45 CST)" (scheduled at 2020-05-12 16:04:44.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:46 CST)" (scheduled at 2020-05-12 16:04:45.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:47 CST)" (scheduled at 2020-05-12 16:04:46.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:48 CST)" (scheduled at 2020-05-12 16:04:47.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:49 CST)" (scheduled at 2020-05-12 16:04:48.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:50 CST)" (scheduled at 2020-05-12 16:04:49.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:51 CST)" (scheduled at 2020-05-12 16:04:50.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:52 CST)" (scheduled at 2020-05-12 16:04:51.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:53 CST)" (scheduled at 2020-05-12 16:04:52.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:54 CST)" (scheduled at 2020-05-12 16:04:53.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:55 CST)" (scheduled at 2020-05-12 16:04:54.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:56 CST)" (scheduled at 2020-05-12 16:04:55.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:57 CST)" (scheduled at 2020-05-12 16:04:56.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:58 CST)" (scheduled at 2020-05-12 16:04:57.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:59 CST)" (scheduled at 2020-05-12 16:04:58.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:04:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:00 CST)" (scheduled at 2020-05-12 16:04:59.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:01 CST)" (scheduled at 2020-05-12 16:05:00.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:01 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:02 CST)" (scheduled at 2020-05-12 16:05:01.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:03 CST)" (scheduled at 2020-05-12 16:05:02.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:04 CST)" (scheduled at 2020-05-12 16:05:03.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:05 CST)" (scheduled at 2020-05-12 16:05:04.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:06 CST)" (scheduled at 2020-05-12 16:05:05.628467+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 40, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:05:08.051624+08:00 (in 0.999402 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:08 CST)" (scheduled at 2020-05-12 16:05:08.051624+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:10 CST)" (scheduled at 2020-05-12 16:05:09.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:11 CST)" (scheduled at 2020-05-12 16:05:10.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:12 CST)" (scheduled at 2020-05-12 16:05:11.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:13 CST)" (scheduled at 2020-05-12 16:05:12.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:14 CST)" (scheduled at 2020-05-12 16:05:13.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:15 CST)" (scheduled at 2020-05-12 16:05:14.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:16 CST)" (scheduled at 2020-05-12 16:05:15.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:17 CST)" (scheduled at 2020-05-12 16:05:16.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:18 CST)" (scheduled at 2020-05-12 16:05:17.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:19 CST)" (scheduled at 2020-05-12 16:05:18.051624+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:05:19.834232+08:00 (in 0.999528 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:19 CST)" (scheduled at 2020-05-12 16:05:19.834232+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:21 CST)" (scheduled at 2020-05-12 16:05:20.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:22 CST)" (scheduled at 2020-05-12 16:05:21.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:23 CST)" (scheduled at 2020-05-12 16:05:22.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:24 CST)" (scheduled at 2020-05-12 16:05:23.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:25 CST)" (scheduled at 2020-05-12 16:05:24.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:26 CST)" (scheduled at 2020-05-12 16:05:25.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:27 CST)" (scheduled at 2020-05-12 16:05:26.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:28 CST)" (scheduled at 2020-05-12 16:05:27.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:29 CST)" (scheduled at 2020-05-12 16:05:28.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:30 CST)" (scheduled at 2020-05-12 16:05:29.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:31 CST)" (scheduled at 2020-05-12 16:05:30.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:32 CST)" (scheduled at 2020-05-12 16:05:31.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:33 CST)" (scheduled at 2020-05-12 16:05:32.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:34 CST)" (scheduled at 2020-05-12 16:05:33.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:35 CST)" (scheduled at 2020-05-12 16:05:34.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:36 CST)" (scheduled at 2020-05-12 16:05:35.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:37 CST)" (scheduled at 2020-05-12 16:05:36.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:38 CST)" (scheduled at 2020-05-12 16:05:37.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:39 CST)" (scheduled at 2020-05-12 16:05:38.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:40 CST)" (scheduled at 2020-05-12 16:05:39.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:41 CST)" (scheduled at 2020-05-12 16:05:40.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:42 CST)" (scheduled at 2020-05-12 16:05:41.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:43 CST)" (scheduled at 2020-05-12 16:05:42.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:44 CST)" (scheduled at 2020-05-12 16:05:43.834232+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:05:45.618992+08:00 (in 0.999144 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:45 CST)" (scheduled at 2020-05-12 16:05:45.618992+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:47 CST)" (scheduled at 2020-05-12 16:05:46.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:48 CST)" (scheduled at 2020-05-12 16:05:47.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:49 CST)" (scheduled at 2020-05-12 16:05:48.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:50 CST)" (scheduled at 2020-05-12 16:05:49.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:51 CST)" (scheduled at 2020-05-12 16:05:50.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:52 CST)" (scheduled at 2020-05-12 16:05:51.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:53 CST)" (scheduled at 2020-05-12 16:05:52.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:54 CST)" (scheduled at 2020-05-12 16:05:53.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:55 CST)" (scheduled at 2020-05-12 16:05:54.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:56 CST)" (scheduled at 2020-05-12 16:05:55.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:57 CST)" (scheduled at 2020-05-12 16:05:56.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:58 CST)" (scheduled at 2020-05-12 16:05:57.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:59 CST)" (scheduled at 2020-05-12 16:05:58.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:05:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:00 CST)" (scheduled at 2020-05-12 16:05:59.618992+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    h.last_time.strftime("%Y-%m-%d %H:%M:%S"), h.hostname,
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    id = idmd5.hexdigest()
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:06:01.612628+08:00 (in 0.998663 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:01 CST)" (scheduled at 2020-05-12 16:06:01.612628+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:03 CST)" (scheduled at 2020-05-12 16:06:02.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:04 CST)" (scheduled at 2020-05-12 16:06:03.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:05 CST)" (scheduled at 2020-05-12 16:06:04.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:06 CST)" (scheduled at 2020-05-12 16:06:05.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:07 CST)" (scheduled at 2020-05-12 16:06:06.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:08 CST)" (scheduled at 2020-05-12 16:06:07.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:09 CST)" (scheduled at 2020-05-12 16:06:08.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:10 CST)" (scheduled at 2020-05-12 16:06:09.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:11 CST)" (scheduled at 2020-05-12 16:06:10.612628+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:06:12.982730+08:00 (in 0.999604 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:12 CST)" (scheduled at 2020-05-12 16:06:12.982730+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:14 CST)" (scheduled at 2020-05-12 16:06:13.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:15 CST)" (scheduled at 2020-05-12 16:06:14.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:16 CST)" (scheduled at 2020-05-12 16:06:15.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:17 CST)" (scheduled at 2020-05-12 16:06:16.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:18 CST)" (scheduled at 2020-05-12 16:06:17.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:19 CST)" (scheduled at 2020-05-12 16:06:18.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:20 CST)" (scheduled at 2020-05-12 16:06:19.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:21 CST)" (scheduled at 2020-05-12 16:06:20.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:22 CST)" (scheduled at 2020-05-12 16:06:21.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:23 CST)" (scheduled at 2020-05-12 16:06:22.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:24 CST)" (scheduled at 2020-05-12 16:06:23.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:25 CST)" (scheduled at 2020-05-12 16:06:24.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:26 CST)" (scheduled at 2020-05-12 16:06:25.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:27 CST)" (scheduled at 2020-05-12 16:06:26.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:28 CST)" (scheduled at 2020-05-12 16:06:27.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:29 CST)" (scheduled at 2020-05-12 16:06:28.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:30 CST)" (scheduled at 2020-05-12 16:06:29.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:31 CST)" (scheduled at 2020-05-12 16:06:30.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:32 CST)" (scheduled at 2020-05-12 16:06:31.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:33 CST)" (scheduled at 2020-05-12 16:06:32.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:34 CST)" (scheduled at 2020-05-12 16:06:33.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:35 CST)" (scheduled at 2020-05-12 16:06:34.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:36 CST)" (scheduled at 2020-05-12 16:06:35.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:37 CST)" (scheduled at 2020-05-12 16:06:36.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:38 CST)" (scheduled at 2020-05-12 16:06:37.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:39 CST)" (scheduled at 2020-05-12 16:06:38.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:40 CST)" (scheduled at 2020-05-12 16:06:39.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:41 CST)" (scheduled at 2020-05-12 16:06:40.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:41 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:42 CST)" (scheduled at 2020-05-12 16:06:41.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:43 CST)" (scheduled at 2020-05-12 16:06:42.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:44 CST)" (scheduled at 2020-05-12 16:06:43.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:45 CST)" (scheduled at 2020-05-12 16:06:44.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:46 CST)" (scheduled at 2020-05-12 16:06:45.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:47 CST)" (scheduled at 2020-05-12 16:06:46.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:48 CST)" (scheduled at 2020-05-12 16:06:47.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:49 CST)" (scheduled at 2020-05-12 16:06:48.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:50 CST)" (scheduled at 2020-05-12 16:06:49.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:51 CST)" (scheduled at 2020-05-12 16:06:50.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:52 CST)" (scheduled at 2020-05-12 16:06:51.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:53 CST)" (scheduled at 2020-05-12 16:06:52.982730+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:06:55.275464+08:00 (in 0.999567 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:55 CST)" (scheduled at 2020-05-12 16:06:55.275464+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': 'd41d8cd98f00b204e9800998ecf8427e', 'last_time': '2018-12-26 04:03:39', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2018-12-26 04:03:39', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': 'd41d8cd98f00b204e9800998ecf8427e', 'last_time': '2018-12-26 03:46:21', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2018-12-26 03:46:21', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:56 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:57 CST)" (scheduled at 2020-05-12 16:06:56.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:57 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:58 CST)" (scheduled at 2020-05-12 16:06:57.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:59 CST)" (scheduled at 2020-05-12 16:06:58.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:06:59 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:00 CST)" (scheduled at 2020-05-12 16:06:59.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:01 CST)" (scheduled at 2020-05-12 16:07:00.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:01 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:02 CST)" (scheduled at 2020-05-12 16:07:01.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:02 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:03 CST)" (scheduled at 2020-05-12 16:07:02.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:03 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:04 CST)" (scheduled at 2020-05-12 16:07:03.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:04 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:05 CST)" (scheduled at 2020-05-12 16:07:04.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:05 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:06 CST)" (scheduled at 2020-05-12 16:07:05.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:06 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:07 CST)" (scheduled at 2020-05-12 16:07:06.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:07 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:08 CST)" (scheduled at 2020-05-12 16:07:07.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:08 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:09 CST)" (scheduled at 2020-05-12 16:07:08.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:09 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:10 CST)" (scheduled at 2020-05-12 16:07:09.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:10 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:11 CST)" (scheduled at 2020-05-12 16:07:10.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:11 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:12 CST)" (scheduled at 2020-05-12 16:07:11.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:12 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:13 CST)" (scheduled at 2020-05-12 16:07:12.275464+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:13 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:07:14.743150+08:00 (in 0.998668 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:14 CST)" (scheduled at 2020-05-12 16:07:14.743150+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:15 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:16 CST)" (scheduled at 2020-05-12 16:07:15.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:17 CST)" (scheduled at 2020-05-12 16:07:16.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:17 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:18 CST)" (scheduled at 2020-05-12 16:07:17.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:18 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:19 CST)" (scheduled at 2020-05-12 16:07:18.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:19 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:20 CST)" (scheduled at 2020-05-12 16:07:19.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:20 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:21 CST)" (scheduled at 2020-05-12 16:07:20.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:21 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:22 CST)" (scheduled at 2020-05-12 16:07:21.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:22 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:23 CST)" (scheduled at 2020-05-12 16:07:22.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:23 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:24 CST)" (scheduled at 2020-05-12 16:07:23.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:24 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:25 CST)" (scheduled at 2020-05-12 16:07:24.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:25 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:26 CST)" (scheduled at 2020-05-12 16:07:25.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:26 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:27 CST)" (scheduled at 2020-05-12 16:07:26.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:27 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:28 CST)" (scheduled at 2020-05-12 16:07:27.743150+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:28 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:07:30.048363+08:00 (in 0.999460 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:30 CST)" (scheduled at 2020-05-12 16:07:30.048363+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:31 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:32 CST)" (scheduled at 2020-05-12 16:07:31.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:32 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:33 CST)" (scheduled at 2020-05-12 16:07:32.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:33 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:34 CST)" (scheduled at 2020-05-12 16:07:33.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:35 CST)" (scheduled at 2020-05-12 16:07:34.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:35 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:36 CST)" (scheduled at 2020-05-12 16:07:35.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:36 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:37 CST)" (scheduled at 2020-05-12 16:07:36.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:37 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:38 CST)" (scheduled at 2020-05-12 16:07:37.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:38 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:39 CST)" (scheduled at 2020-05-12 16:07:38.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:39 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:40 CST)" (scheduled at 2020-05-12 16:07:39.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:40 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:41 CST)" (scheduled at 2020-05-12 16:07:40.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:41 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:42 CST)" (scheduled at 2020-05-12 16:07:41.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:42 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:43 CST)" (scheduled at 2020-05-12 16:07:42.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:43 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:44 CST)" (scheduled at 2020-05-12 16:07:43.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:44 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:45 CST)" (scheduled at 2020-05-12 16:07:44.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:45 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:46 CST)" (scheduled at 2020-05-12 16:07:45.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:47 CST)" (scheduled at 2020-05-12 16:07:46.048363+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:07:47.868944+08:00 (in 0.999128 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:47 CST)" (scheduled at 2020-05-12 16:07:47.868944+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:48 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:49 CST)" (scheduled at 2020-05-12 16:07:48.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:49 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:50 CST)" (scheduled at 2020-05-12 16:07:49.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:50 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:51 CST)" (scheduled at 2020-05-12 16:07:50.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:51 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:52 CST)" (scheduled at 2020-05-12 16:07:51.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:52 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:53 CST)" (scheduled at 2020-05-12 16:07:52.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:53 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:54 CST)" (scheduled at 2020-05-12 16:07:53.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:54 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:55 CST)" (scheduled at 2020-05-12 16:07:54.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:55 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:56 CST)" (scheduled at 2020-05-12 16:07:55.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:56 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:57 CST)" (scheduled at 2020-05-12 16:07:56.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:57 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:58 CST)" (scheduled at 2020-05-12 16:07:57.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:59 CST)" (scheduled at 2020-05-12 16:07:58.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:07:59 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:00 CST)" (scheduled at 2020-05-12 16:07:59.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:01 CST)" (scheduled at 2020-05-12 16:08:00.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:01 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:02 CST)" (scheduled at 2020-05-12 16:08:01.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:02 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:03 CST)" (scheduled at 2020-05-12 16:08:02.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:03 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:04 CST)" (scheduled at 2020-05-12 16:08:03.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:04 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:05 CST)" (scheduled at 2020-05-12 16:08:04.868944+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:05 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:08:07.106956+08:00 (in 0.999633 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:07 CST)" (scheduled at 2020-05-12 16:08:07.106956+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:08 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:09 CST)" (scheduled at 2020-05-12 16:08:08.106956+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:09 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:10 CST)" (scheduled at 2020-05-12 16:08:09.106956+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:10 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:11 CST)" (scheduled at 2020-05-12 16:08:10.106956+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:11 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:12 CST)" (scheduled at 2020-05-12 16:08:11.106956+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:12 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:13 CST)" (scheduled at 2020-05-12 16:08:12.106956+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:13 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:14 CST)" (scheduled at 2020-05-12 16:08:13.106956+08:00)
BEGIN (implicit)
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:08:14.975328+08:00 (in 0.999576 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:14 CST)" (scheduled at 2020-05-12 16:08:14.975328+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:15 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:16 CST)" (scheduled at 2020-05-12 16:08:15.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:17 CST)" (scheduled at 2020-05-12 16:08:16.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:17 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:18 CST)" (scheduled at 2020-05-12 16:08:17.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:18 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:19 CST)" (scheduled at 2020-05-12 16:08:18.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:19 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:20 CST)" (scheduled at 2020-05-12 16:08:19.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:20 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:21 CST)" (scheduled at 2020-05-12 16:08:20.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:21 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:22 CST)" (scheduled at 2020-05-12 16:08:21.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:22 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 2.01ms
304 GET /static/js/3.698f09cb0a45aa89451f.js (192.168.109.1) 7.47ms
304 GET /static/img/img.jpg (192.168.109.1) 1.81ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 8.87ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:23 CST)" (scheduled at 2020-05-12 16:08:22.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:23 CST)" executed successfully
200 GET /v1/static/img/favicon.ico (192.168.109.1) 3.70ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:24 CST)" (scheduled at 2020-05-12 16:08:23.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:24 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:25 CST)" (scheduled at 2020-05-12 16:08:24.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:25 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:26 CST)" (scheduled at 2020-05-12 16:08:25.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:26 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:27 CST)" (scheduled at 2020-05-12 16:08:26.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:27 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:28 CST)" (scheduled at 2020-05-12 16:08:27.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:29 CST)" (scheduled at 2020-05-12 16:08:28.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:29 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:30 CST)" (scheduled at 2020-05-12 16:08:29.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:31 CST)" (scheduled at 2020-05-12 16:08:30.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:31 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:32 CST)" (scheduled at 2020-05-12 16:08:31.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:32 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:33 CST)" (scheduled at 2020-05-12 16:08:32.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:33 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:34 CST)" (scheduled at 2020-05-12 16:08:33.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:35 CST)" (scheduled at 2020-05-12 16:08:34.975328+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:08:35 CST)" executed successfully
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:31 CST)" (scheduled at 2020-05-12 16:13:31.021561+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:32 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:33 CST)" (scheduled at 2020-05-12 16:13:32.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:33 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:34 CST)" (scheduled at 2020-05-12 16:13:33.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:35 CST)" (scheduled at 2020-05-12 16:13:34.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:35 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:36 CST)" (scheduled at 2020-05-12 16:13:35.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:36 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:37 CST)" (scheduled at 2020-05-12 16:13:36.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:37 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:38 CST)" (scheduled at 2020-05-12 16:13:37.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:38 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:39 CST)" (scheduled at 2020-05-12 16:13:38.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:39 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:40 CST)" (scheduled at 2020-05-12 16:13:39.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:40 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:41 CST)" (scheduled at 2020-05-12 16:13:40.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:41 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:42 CST)" (scheduled at 2020-05-12 16:13:41.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:42 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:43 CST)" (scheduled at 2020-05-12 16:13:42.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:43 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:44 CST)" (scheduled at 2020-05-12 16:13:43.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:44 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:45 CST)" (scheduled at 2020-05-12 16:13:44.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:45 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:46 CST)" (scheduled at 2020-05-12 16:13:45.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:47 CST)" (scheduled at 2020-05-12 16:13:46.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:47 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:48 CST)" (scheduled at 2020-05-12 16:13:47.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:48 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:49 CST)" (scheduled at 2020-05-12 16:13:48.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:49 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:50 CST)" (scheduled at 2020-05-12 16:13:49.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:50 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:51 CST)" (scheduled at 2020-05-12 16:13:50.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:51 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:52 CST)" (scheduled at 2020-05-12 16:13:51.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:52 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:53 CST)" (scheduled at 2020-05-12 16:13:52.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:53 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:54 CST)" (scheduled at 2020-05-12 16:13:53.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:54 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:55 CST)" (scheduled at 2020-05-12 16:13:54.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:55 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:56 CST)" (scheduled at 2020-05-12 16:13:55.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:56 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:57 CST)" (scheduled at 2020-05-12 16:13:56.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:57 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:58 CST)" (scheduled at 2020-05-12 16:13:57.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:59 CST)" (scheduled at 2020-05-12 16:13:58.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:13:59 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:00 CST)" (scheduled at 2020-05-12 16:13:59.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:01 CST)" (scheduled at 2020-05-12 16:14:00.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:01 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:02 CST)" (scheduled at 2020-05-12 16:14:01.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:03 CST)" (scheduled at 2020-05-12 16:14:02.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:04 CST)" (scheduled at 2020-05-12 16:14:03.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:05 CST)" (scheduled at 2020-05-12 16:14:04.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:06 CST)" (scheduled at 2020-05-12 16:14:05.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:07 CST)" (scheduled at 2020-05-12 16:14:06.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:08 CST)" (scheduled at 2020-05-12 16:14:07.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:09 CST)" (scheduled at 2020-05-12 16:14:08.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:10 CST)" (scheduled at 2020-05-12 16:14:09.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:11 CST)" (scheduled at 2020-05-12 16:14:10.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:12 CST)" (scheduled at 2020-05-12 16:14:11.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:13 CST)" (scheduled at 2020-05-12 16:14:12.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:14 CST)" (scheduled at 2020-05-12 16:14:13.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /v1/hoststatus (192.168.109.1) 3.14ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:15 CST)" (scheduled at 2020-05-12 16:14:14.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
304 GET /static/js/15.e5a998d7b6acda13aae0.js (192.168.109.1) 4.04ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 10.38ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.31ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:16 CST)" (scheduled at 2020-05-12 16:14:15.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:17 CST)" (scheduled at 2020-05-12 16:14:16.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:18 CST)" (scheduled at 2020-05-12 16:14:17.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:19 CST)" (scheduled at 2020-05-12 16:14:18.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:20 CST)" (scheduled at 2020-05-12 16:14:19.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:21 CST)" (scheduled at 2020-05-12 16:14:20.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:22 CST)" (scheduled at 2020-05-12 16:14:21.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:23 CST)" (scheduled at 2020-05-12 16:14:22.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:24 CST)" (scheduled at 2020-05-12 16:14:23.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:25 CST)" (scheduled at 2020-05-12 16:14:24.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:26 CST)" (scheduled at 2020-05-12 16:14:25.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:27 CST)" (scheduled at 2020-05-12 16:14:26.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:28 CST)" (scheduled at 2020-05-12 16:14:27.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:29 CST)" (scheduled at 2020-05-12 16:14:28.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:30 CST)" (scheduled at 2020-05-12 16:14:29.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:31 CST)" (scheduled at 2020-05-12 16:14:30.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:32 CST)" (scheduled at 2020-05-12 16:14:31.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:33 CST)" (scheduled at 2020-05-12 16:14:32.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:34 CST)" (scheduled at 2020-05-12 16:14:33.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:35 CST)" (scheduled at 2020-05-12 16:14:34.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:36 CST)" (scheduled at 2020-05-12 16:14:35.021561+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:14:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:14:51.458209+08:00 (in 14.998691 seconds)
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:14:51 CST)" (scheduled at 2020-05-12 16:14:51.458209+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:21 CST)" (scheduled at 2020-05-12 16:15:06.458209+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 21, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:15:24.274313+08:00 (in 14.999367 seconds)
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:24 CST)" (scheduled at 2020-05-12 16:15:24.274313+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': 'd41d8cd98f00b204e9800998ecf8427e', 'last_time': '2020-05-12 16:13:08', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2020-05-12 16:13:08', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': 'd41d8cd98f00b204e9800998ecf8427e', 'last_time': '2020-05-12 16:13:08', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2020-05-12 16:13:08', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:39 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 2.10ms
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:54 CST)" (scheduled at 2020-05-12 16:15:39.274313+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:15:54 CST)" executed successfully
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 11.64ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.96ms
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:09 CST)" (scheduled at 2020-05-12 16:15:54.274313+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:09 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:24 CST)" (scheduled at 2020-05-12 16:16:09.274313+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:24 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:31 CST)" (scheduled at 2020-05-12 16:16:31.552355+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:16:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:17:01 CST)" (scheduled at 2020-05-12 16:16:46.552355+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:15], next run at: 2020-05-12 16:17:01 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:17:03.942370+08:00 (in 14.995802 seconds)
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:17:02.000434+08:00 (in 0.998351 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:02 CST)" (scheduled at 2020-05-12 16:17:02.000434+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:03 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:04 CST)" (scheduled at 2020-05-12 16:17:03.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:04 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:05 CST)" (scheduled at 2020-05-12 16:17:04.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:05 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:06 CST)" (scheduled at 2020-05-12 16:17:05.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:06 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:07 CST)" (scheduled at 2020-05-12 16:17:06.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:07 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:08 CST)" (scheduled at 2020-05-12 16:17:07.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:08 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:09 CST)" (scheduled at 2020-05-12 16:17:08.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:09 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:10 CST)" (scheduled at 2020-05-12 16:17:09.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:10 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:11 CST)" (scheduled at 2020-05-12 16:17:10.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:11 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:12 CST)" (scheduled at 2020-05-12 16:17:11.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:12 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 1.89ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:13 CST)" (scheduled at 2020-05-12 16:17:12.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:13 CST)" executed successfully
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 4.60ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.51ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:14 CST)" (scheduled at 2020-05-12 16:17:13.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:14 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:15 CST)" (scheduled at 2020-05-12 16:17:14.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:15 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:16 CST)" (scheduled at 2020-05-12 16:17:15.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:17 CST)" (scheduled at 2020-05-12 16:17:16.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:17 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:18 CST)" (scheduled at 2020-05-12 16:17:17.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:18 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:19 CST)" (scheduled at 2020-05-12 16:17:18.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:19 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:20 CST)" (scheduled at 2020-05-12 16:17:19.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:20 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:21 CST)" (scheduled at 2020-05-12 16:17:20.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:21 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:22 CST)" (scheduled at 2020-05-12 16:17:21.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:22 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:23 CST)" (scheduled at 2020-05-12 16:17:22.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:23 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 1.45ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 8.22ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.65ms
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:24 CST)" (scheduled at 2020-05-12 16:17:23.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:24 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:25 CST)" (scheduled at 2020-05-12 16:17:24.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:25 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:26 CST)" (scheduled at 2020-05-12 16:17:25.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:26 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:27 CST)" (scheduled at 2020-05-12 16:17:26.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:27 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:28 CST)" (scheduled at 2020-05-12 16:17:27.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:29 CST)" (scheduled at 2020-05-12 16:17:28.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:29 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:30 CST)" (scheduled at 2020-05-12 16:17:29.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:31 CST)" (scheduled at 2020-05-12 16:17:30.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:31 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:32 CST)" (scheduled at 2020-05-12 16:17:31.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:32 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:33 CST)" (scheduled at 2020-05-12 16:17:32.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:33 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:34 CST)" (scheduled at 2020-05-12 16:17:33.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:35 CST)" (scheduled at 2020-05-12 16:17:34.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:35 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:36 CST)" (scheduled at 2020-05-12 16:17:35.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:36 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:37 CST)" (scheduled at 2020-05-12 16:17:36.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:37 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:38 CST)" (scheduled at 2020-05-12 16:17:37.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:38 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:39 CST)" (scheduled at 2020-05-12 16:17:38.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:39 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:40 CST)" (scheduled at 2020-05-12 16:17:39.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:40 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:41 CST)" (scheduled at 2020-05-12 16:17:40.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:41 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:42 CST)" (scheduled at 2020-05-12 16:17:41.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:42 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:43 CST)" (scheduled at 2020-05-12 16:17:42.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:43 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:44 CST)" (scheduled at 2020-05-12 16:17:43.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:44 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:45 CST)" (scheduled at 2020-05-12 16:17:44.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:45 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:46 CST)" (scheduled at 2020-05-12 16:17:45.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:47 CST)" (scheduled at 2020-05-12 16:17:46.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:47 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:48 CST)" (scheduled at 2020-05-12 16:17:47.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:48 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:49 CST)" (scheduled at 2020-05-12 16:17:48.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:49 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:50 CST)" (scheduled at 2020-05-12 16:17:49.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:50 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:51 CST)" (scheduled at 2020-05-12 16:17:50.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:51 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:52 CST)" (scheduled at 2020-05-12 16:17:51.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:52 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:53 CST)" (scheduled at 2020-05-12 16:17:52.000434+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:53 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:17:53.977063+08:00 (in 0.999193 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:53 CST)" (scheduled at 2020-05-12 16:17:53.977063+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:54 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:55 CST)" (scheduled at 2020-05-12 16:17:54.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:55 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:56 CST)" (scheduled at 2020-05-12 16:17:55.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:56 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:57 CST)" (scheduled at 2020-05-12 16:17:56.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:57 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:58 CST)" (scheduled at 2020-05-12 16:17:57.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:59 CST)" (scheduled at 2020-05-12 16:17:58.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:17:59 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:00 CST)" (scheduled at 2020-05-12 16:17:59.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:01 CST)" (scheduled at 2020-05-12 16:18:00.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:01 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:02 CST)" (scheduled at 2020-05-12 16:18:01.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:02 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:03 CST)" (scheduled at 2020-05-12 16:18:02.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:03 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:04 CST)" (scheduled at 2020-05-12 16:18:03.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:04 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:05 CST)" (scheduled at 2020-05-12 16:18:04.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:05 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:06 CST)" (scheduled at 2020-05-12 16:18:05.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:06 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:07 CST)" (scheduled at 2020-05-12 16:18:06.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:07 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:08 CST)" (scheduled at 2020-05-12 16:18:07.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:08 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:09 CST)" (scheduled at 2020-05-12 16:18:08.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:10 CST)" (scheduled at 2020-05-12 16:18:09.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:11 CST)" (scheduled at 2020-05-12 16:18:10.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:12 CST)" (scheduled at 2020-05-12 16:18:11.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:13 CST)" (scheduled at 2020-05-12 16:18:12.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:14 CST)" (scheduled at 2020-05-12 16:18:13.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:15 CST)" (scheduled at 2020-05-12 16:18:14.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:16 CST)" (scheduled at 2020-05-12 16:18:15.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:17 CST)" (scheduled at 2020-05-12 16:18:16.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:18 CST)" (scheduled at 2020-05-12 16:18:17.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:19 CST)" (scheduled at 2020-05-12 16:18:18.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:20 CST)" (scheduled at 2020-05-12 16:18:19.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:21 CST)" (scheduled at 2020-05-12 16:18:20.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:22 CST)" (scheduled at 2020-05-12 16:18:21.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:23 CST)" (scheduled at 2020-05-12 16:18:22.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:24 CST)" (scheduled at 2020-05-12 16:18:23.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:25 CST)" (scheduled at 2020-05-12 16:18:24.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:26 CST)" (scheduled at 2020-05-12 16:18:25.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:27 CST)" (scheduled at 2020-05-12 16:18:26.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:28 CST)" (scheduled at 2020-05-12 16:18:27.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:29 CST)" (scheduled at 2020-05-12 16:18:28.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:30 CST)" (scheduled at 2020-05-12 16:18:29.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:30 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:31 CST)" (scheduled at 2020-05-12 16:18:30.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:31 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:32 CST)" (scheduled at 2020-05-12 16:18:31.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:32 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:33 CST)" (scheduled at 2020-05-12 16:18:32.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:33 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:34 CST)" (scheduled at 2020-05-12 16:18:33.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:34 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:35 CST)" (scheduled at 2020-05-12 16:18:34.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:35 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:36 CST)" (scheduled at 2020-05-12 16:18:35.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:36 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:37 CST)" (scheduled at 2020-05-12 16:18:36.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:37 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:38 CST)" (scheduled at 2020-05-12 16:18:37.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:38 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:39 CST)" (scheduled at 2020-05-12 16:18:38.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:39 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:40 CST)" (scheduled at 2020-05-12 16:18:39.977063+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:40 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 42, in hostonline
    h.last_time.strftime("%Y-%m-%d %H:%M:%S"), h.hostname,
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 23, in hoststatus
    id = idmd5.hexdigest()
TypeError: Unicode-objects must be encoded before hashing
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:18:41.837485+08:00 (in 0.999601 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:41 CST)" (scheduled at 2020-05-12 16:18:41.837485+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:42 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:43 CST)" (scheduled at 2020-05-12 16:18:42.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:43 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:44 CST)" (scheduled at 2020-05-12 16:18:43.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:44 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:45 CST)" (scheduled at 2020-05-12 16:18:44.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:45 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:46 CST)" (scheduled at 2020-05-12 16:18:45.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:46 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:47 CST)" (scheduled at 2020-05-12 16:18:46.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:47 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:48 CST)" (scheduled at 2020-05-12 16:18:47.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:48 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:49 CST)" (scheduled at 2020-05-12 16:18:48.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:49 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:50 CST)" (scheduled at 2020-05-12 16:18:49.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:50 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:51 CST)" (scheduled at 2020-05-12 16:18:50.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:51 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:52 CST)" (scheduled at 2020-05-12 16:18:51.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:52 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:53 CST)" (scheduled at 2020-05-12 16:18:52.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:53 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:54 CST)" (scheduled at 2020-05-12 16:18:53.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:54 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:55 CST)" (scheduled at 2020-05-12 16:18:54.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:55 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:56 CST)" (scheduled at 2020-05-12 16:18:55.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:56 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:57 CST)" (scheduled at 2020-05-12 16:18:56.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:57 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:58 CST)" (scheduled at 2020-05-12 16:18:57.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:58 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:59 CST)" (scheduled at 2020-05-12 16:18:58.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:18:59 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:00 CST)" (scheduled at 2020-05-12 16:18:59.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:00 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:01 CST)" (scheduled at 2020-05-12 16:19:00.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:01 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:02 CST)" (scheduled at 2020-05-12 16:19:01.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:02 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:03 CST)" (scheduled at 2020-05-12 16:19:02.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:03 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:04 CST)" (scheduled at 2020-05-12 16:19:03.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:04 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:05 CST)" (scheduled at 2020-05-12 16:19:04.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:05 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:06 CST)" (scheduled at 2020-05-12 16:19:05.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:06 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:07 CST)" (scheduled at 2020-05-12 16:19:06.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:07 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:08 CST)" (scheduled at 2020-05-12 16:19:07.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:08 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:09 CST)" (scheduled at 2020-05-12 16:19:08.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:09 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:10 CST)" (scheduled at 2020-05-12 16:19:09.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:10 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:11 CST)" (scheduled at 2020-05-12 16:19:10.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:11 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:12 CST)" (scheduled at 2020-05-12 16:19:11.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:12 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:13 CST)" (scheduled at 2020-05-12 16:19:12.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:13 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:14 CST)" (scheduled at 2020-05-12 16:19:13.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:14 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:15 CST)" (scheduled at 2020-05-12 16:19:14.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:15 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:16 CST)" (scheduled at 2020-05-12 16:19:15.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:16 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:17 CST)" (scheduled at 2020-05-12 16:19:16.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:17 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:18 CST)" (scheduled at 2020-05-12 16:19:17.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:18 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:19 CST)" (scheduled at 2020-05-12 16:19:18.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:19 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:20 CST)" (scheduled at 2020-05-12 16:19:19.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:20 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:21 CST)" (scheduled at 2020-05-12 16:19:20.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:21 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:22 CST)" (scheduled at 2020-05-12 16:19:21.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:22 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:23 CST)" (scheduled at 2020-05-12 16:19:22.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:23 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:24 CST)" (scheduled at 2020-05-12 16:19:23.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:24 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:25 CST)" (scheduled at 2020-05-12 16:19:24.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:25 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:26 CST)" (scheduled at 2020-05-12 16:19:25.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:26 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:27 CST)" (scheduled at 2020-05-12 16:19:26.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:27 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:28 CST)" (scheduled at 2020-05-12 16:19:27.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:28 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:29 CST)" (scheduled at 2020-05-12 16:19:28.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:29 CST)" raised an exception
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 41, in hostonline
    hoststatus(
  File "/root/Desktop/opencanary_web/service/hostservice.py", line 22, in hoststatus
    idmd5.update(hostname + ip)
TypeError: Unicode-objects must be encoded before hashing
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:30 CST)" (scheduled at 2020-05-12 16:19:29.837485+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:19:31.727356+08:00 (in 0.998964 seconds)
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:31 CST)" (scheduled at 2020-05-12 16:19:31.727356+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '0c715140c9fbbc6bf9aaef73fb63ad86', 'last_time': '2020-05-12 16:17:17', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2020-05-12 16:17:17', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '1ace5853dfe644d18d1d1eb1a72658c5', 'last_time': '2020-05-12 16:17:17', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2020-05-12 16:17:17', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:32 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:33 CST)" (scheduled at 2020-05-12 16:19:32.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:33 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:34 CST)" (scheduled at 2020-05-12 16:19:33.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:34 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:35 CST)" (scheduled at 2020-05-12 16:19:34.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:35 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:36 CST)" (scheduled at 2020-05-12 16:19:35.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:36 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:37 CST)" (scheduled at 2020-05-12 16:19:36.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:37 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:38 CST)" (scheduled at 2020-05-12 16:19:37.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:38 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:39 CST)" (scheduled at 2020-05-12 16:19:38.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:39 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:40 CST)" (scheduled at 2020-05-12 16:19:39.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:40 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:41 CST)" (scheduled at 2020-05-12 16:19:40.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:41 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:42 CST)" (scheduled at 2020-05-12 16:19:41.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:42 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:43 CST)" (scheduled at 2020-05-12 16:19:42.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:43 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:44 CST)" (scheduled at 2020-05-12 16:19:43.727356+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:01], next run at: 2020-05-12 16:19:44 CST)" executed successfully
/root/Desktop/opencanary_web/util/task.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:20:15.223820+08:00 (in 29.998639 seconds)
304 GET /v1/hoststatus (192.168.109.1) 4.18ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 32.17ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.85ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:20:15 CST)" (scheduled at 2020-05-12 16:20:15.223820+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:20:45 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 1.11ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 8.62ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.12ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:21:15 CST)" (scheduled at 2020-05-12 16:20:45.223820+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '0c715140c9fbbc6bf9aaef73fb63ad86', 'last_time': '2020-05-12 16:19:50', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2020-05-12 16:19:50', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '1ace5853dfe644d18d1d1eb1a72658c5', 'last_time': '2020-05-12 16:19:50', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2020-05-12 16:19:50', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:21:15 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:21:23.887645+08:00 (in 29.999322 seconds)
304 GET /v1/hoststatus (192.168.109.1) 3.28ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 33.97ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.52ms
304 GET /v1/hoststatus (192.168.109.1) 1.16ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 6.41ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:21:23 CST)" (scheduled at 2020-05-12 16:21:23.887645+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:21:53 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:22:23 CST)" (scheduled at 2020-05-12 16:21:53.887645+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:22:23 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:22:53 CST)" (scheduled at 2020-05-12 16:22:23.887645+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '0c715140c9fbbc6bf9aaef73fb63ad86', 'last_time': '2020-05-12 16:21:03', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2020-05-12 16:21:03', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '1ace5853dfe644d18d1d1eb1a72658c5', 'last_time': '2020-05-12 16:21:03', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2020-05-12 16:21:03', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:22:53 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 1.29ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 5.29ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.25ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:23:23 CST)" (scheduled at 2020-05-12 16:22:53.887645+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:23:23 CST)" executed successfully
/root/Desktop/opencanary_web/service/hostservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:23:30.402245+08:00 (in 29.998494 seconds)
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:23:30 CST)" (scheduled at 2020-05-12 16:23:30.402245+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:24:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:24:30 CST)" (scheduled at 2020-05-12 16:24:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:24:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:25:00 CST)" (scheduled at 2020-05-12 16:24:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:25:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:25:30 CST)" (scheduled at 2020-05-12 16:25:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:25:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:26:00 CST)" (scheduled at 2020-05-12 16:25:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '0c715140c9fbbc6bf9aaef73fb63ad86', 'last_time': '2020-05-12 16:24:27', 'hostname': 'opencanary-1', 'ip': '172.18.114.241', 'status': 'offline', 'param_1': '2020-05-12 16:24:27', 'param_2': 'offline'}
COMMIT
BEGIN (implicit)
INSERT INTO `Host` (id, last_time, hostname, ip, status) VALUES (%(id)s, %(last_time)s, %(hostname)s, %(ip)s, %(status)s) ON DUPLICATE KEY UPDATE last_time = %(param_1)s, status = %(param_2)s
{'id': '1ace5853dfe644d18d1d1eb1a72658c5', 'last_time': '2020-05-12 16:24:27', 'hostname': 'opencanary-1', 'ip': '172.18.215.191', 'status': 'offline', 'param_1': '2020-05-12 16:24:27', 'param_2': 'offline'}
COMMIT
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:26:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:26:30 CST)" (scheduled at 2020-05-12 16:26:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:26:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:27:00 CST)" (scheduled at 2020-05-12 16:26:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:27:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:27:30 CST)" (scheduled at 2020-05-12 16:27:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:27:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:28:00 CST)" (scheduled at 2020-05-12 16:27:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:28:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:28:30 CST)" (scheduled at 2020-05-12 16:28:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:28:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:29:00 CST)" (scheduled at 2020-05-12 16:28:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:29:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:29:30 CST)" (scheduled at 2020-05-12 16:29:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:29:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:30:00 CST)" (scheduled at 2020-05-12 16:29:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:30:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:30:30 CST)" (scheduled at 2020-05-12 16:30:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:30:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:31:00 CST)" (scheduled at 2020-05-12 16:30:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:31:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:31:30 CST)" (scheduled at 2020-05-12 16:31:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:31:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:32:00 CST)" (scheduled at 2020-05-12 16:31:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:32:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:32:30 CST)" (scheduled at 2020-05-12 16:32:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:32:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:33:00 CST)" (scheduled at 2020-05-12 16:32:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:33:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:33:30 CST)" (scheduled at 2020-05-12 16:33:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:33:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:34:00 CST)" (scheduled at 2020-05-12 16:33:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:34:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:34:30 CST)" (scheduled at 2020-05-12 16:34:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:34:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:35:00 CST)" (scheduled at 2020-05-12 16:34:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:35:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:35:30 CST)" (scheduled at 2020-05-12 16:35:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:35:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:36:00 CST)" (scheduled at 2020-05-12 16:35:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:36:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:36:30 CST)" (scheduled at 2020-05-12 16:36:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:36:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:37:00 CST)" (scheduled at 2020-05-12 16:36:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:37:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:37:30 CST)" (scheduled at 2020-05-12 16:37:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:37:30 CST)" executed successfully
304 GET /v1/hoststatus (192.168.109.1) 3.23ms
304 GET /static/css/app.792d56046d26e08153b89a4207657387.css (192.168.109.1) 4.80ms
304 GET /static/js/vendor.a86101b1f62ceb699ec3.js (192.168.109.1) 5.07ms
304 GET /static/js/app.e8d9300c4cfa5fe34b73.js (192.168.109.1) 1.10ms
304 GET /static/js/manifest.7b96bedea8b11a528f3f.js (192.168.109.1) 1.01ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
200 GET /gethost/ (192.168.109.1) 9.42ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.77ms
304 GET /static/js/11.646a72ecb7c609ad5cce.js (192.168.109.1) 1.04ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.53ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 12.70ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 7.11ms
304 GET /static/js/6.112b772b2de4752d4804.js (192.168.109.1) 2.24ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.70ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 8.23ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 6.31ms
304 GET /static/js/7.a2dc549f30ba3faee6cc.js (192.168.109.1) 1.57ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.13ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 21.80ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 10.21ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.47ms
304 GET /static/js/16.c4738efe9cae4f4eee53.js (192.168.109.1) 0.94ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.55ms
304 GET /mail/ (192.168.109.1) 1.77ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.81ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:38:00 CST)" (scheduled at 2020-05-12 16:37:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:38:00 CST)" executed successfully
304 GET /v1/filterlist (192.168.109.1) 1.63ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 9.51ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 3.85ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.73ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:38:30 CST)" (scheduled at 2020-05-12 16:38:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:38:30 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:39:00 CST)" (scheduled at 2020-05-12 16:38:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:39:00 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:39:30 CST)" (scheduled at 2020-05-12 16:39:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:39:30 CST)" executed successfully
304 GET /static/js/14.c0479960e7e903e95586.js (192.168.109.1) 0.93ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.39ms
BEGIN (implicit)
SELECT `Whiteip`.src_host AS `Whiteip_src_host` 
FROM `Whiteip`
{}
ROLLBACK
304 GET /whiteiplist/ (192.168.109.1) 4.34ms
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport`
{}
ROLLBACK
304 GET /whiteport/ (192.168.109.1) 3.68ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:40:00 CST)" (scheduled at 2020-05-12 16:39:30.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:40:00 CST)" executed successfully
304 GET /static/js/10.d0339e47b94453a8e7c8.js (192.168.109.1) 1.47ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.61ms
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 5.14ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 10.89ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 8.85ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.26ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:40:30 CST)" (scheduled at 2020-05-12 16:40:00.402245+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:40:30 CST)" executed successfully
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.06ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 11.78ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.71ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 13.20ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 5.68ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:40:43.125491+08:00 (in 29.999686 seconds)
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.33ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 16.78ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 27.23ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.48ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 8.96ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.31ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 9.58ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 11.59ms
304 GET /v1/dashboard (192.168.109.1) 2.13ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 9.23ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 7.27ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 5.14ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.98ms
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:41:09.959592+08:00 (in 29.998754 seconds)
/root/Desktop/opencanary_web/handlers/chart.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:41:11.918970+08:00 (in 29.999451 seconds)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 24.95ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 22.40ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 37.88ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.67ms
/root/Desktop/opencanary_web/handlers/host.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:41:26.297257+08:00 (in 29.998953 seconds)
/root/Desktop/opencanary_web/handlers/host.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 16:41:28.048205+08:00 (in 29.999602 seconds)
304 GET /v1/dashboard (192.168.109.1) 1.79ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 44.61ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 12.73ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 1.60ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.55ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 21.09ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.25ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 20.16ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 5.46ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.53ms
304 GET /v1/login (192.168.109.1) 1.89ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.13ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.98ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.99ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.97ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.94ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 0.99ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.01ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.53ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.28ms
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 3.83ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 20.27ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 15.08ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 5.77ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.11ms
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 3.99ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.67ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 10.15ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 5.84ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:41:28 CST)" (scheduled at 2020-05-12 16:41:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:41:58 CST)" executed successfully
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.42ms
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport`
{}
ROLLBACK
304 GET /whiteport/ (192.168.109.1) 10.02ms
BEGIN (implicit)
SELECT `Whiteip`.src_host AS `Whiteip_src_host` 
FROM `Whiteip`
{}
ROLLBACK
304 GET /whiteiplist/ (192.168.109.1) 8.21ms
BEGIN (implicit)
DELETE FROM `Whiteport`
{}
COMMIT
200 POST /whiteport/ (192.168.109.1) 5.39ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:42:28 CST)" (scheduled at 2020-05-12 16:41:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:42:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:42:58 CST)" (scheduled at 2020-05-12 16:42:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:42:58 CST)" executed successfully
BEGIN (implicit)
DELETE FROM `Whiteport`
{}
COMMIT
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport` 
WHERE `Whiteport`.dst_port = %(param_1)s
{'param_1': 80}
INSERT INTO `Whiteport` (dst_port) VALUES (%(dst_port)s)
{'dst_port': 80}
COMMIT
200 POST /whiteport/ (192.168.109.1) 13.88ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:43:28 CST)" (scheduled at 2020-05-12 16:42:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:43:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:43:58 CST)" (scheduled at 2020-05-12 16:43:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:43:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:44:28 CST)" (scheduled at 2020-05-12 16:43:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:44:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:44:58 CST)" (scheduled at 2020-05-12 16:44:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:44:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:45:28 CST)" (scheduled at 2020-05-12 16:44:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:45:28 CST)" executed successfully
BEGIN (implicit)
DELETE FROM `Whiteport`
{}
COMMIT
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport` 
WHERE `Whiteport`.dst_port = %(param_1)s
{'param_1': 80}
INSERT INTO `Whiteport` (dst_port) VALUES (%(dst_port)s)
{'dst_port': 80}
COMMIT
200 POST /whiteport/ (192.168.109.1) 15.35ms
BEGIN (implicit)
DELETE FROM `Whiteport`
{}
COMMIT
BEGIN (implicit)
SELECT `Whiteport`.dst_port AS `Whiteport_dst_port` 
FROM `Whiteport` 
WHERE `Whiteport`.dst_port = %(param_1)s
{'param_1': 80}
INSERT INTO `Whiteport` (dst_port) VALUES (%(dst_port)s)
{'dst_port': 80}
COMMIT
200 POST /whiteport/ (192.168.109.1) 18.38ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:45:58 CST)" (scheduled at 2020-05-12 16:45:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:45:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:46:28 CST)" (scheduled at 2020-05-12 16:45:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:46:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:46:58 CST)" (scheduled at 2020-05-12 16:46:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:46:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:47:28 CST)" (scheduled at 2020-05-12 16:46:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:47:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:47:58 CST)" (scheduled at 2020-05-12 16:47:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:47:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:48:28 CST)" (scheduled at 2020-05-12 16:47:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:48:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:48:58 CST)" (scheduled at 2020-05-12 16:48:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:48:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:49:28 CST)" (scheduled at 2020-05-12 16:48:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:49:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:49:58 CST)" (scheduled at 2020-05-12 16:49:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:49:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:50:28 CST)" (scheduled at 2020-05-12 16:49:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:50:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:50:58 CST)" (scheduled at 2020-05-12 16:50:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:50:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:51:28 CST)" (scheduled at 2020-05-12 16:50:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:51:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:51:58 CST)" (scheduled at 2020-05-12 16:51:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:51:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:52:28 CST)" (scheduled at 2020-05-12 16:51:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:52:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:52:58 CST)" (scheduled at 2020-05-12 16:52:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:52:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:53:28 CST)" (scheduled at 2020-05-12 16:52:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:53:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:53:58 CST)" (scheduled at 2020-05-12 16:53:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:53:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:54:28 CST)" (scheduled at 2020-05-12 16:53:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:54:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:54:58 CST)" (scheduled at 2020-05-12 16:54:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:54:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:55:28 CST)" (scheduled at 2020-05-12 16:54:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:55:28 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:55:58 CST)" (scheduled at 2020-05-12 16:55:28.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:55:58 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:56:28 CST)" (scheduled at 2020-05-12 16:55:58.048205+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 16:56:28 CST)" executed successfully
/root/Desktop/opencanary_web/util/__init__.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:01:34.270583+08:00 (in 29.998284 seconds)
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:01:34 CST)" (scheduled at 2020-05-12 17:01:34.270583+08:00)
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:02:04 CST)" executed successfully
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
304 GET / (192.168.109.1) 5.38ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.28ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 45.10ms
304 GET /static/js/3.698f09cb0a45aa89451f.js (192.168.109.1) 3.00ms
304 GET /static/img/img.jpg (192.168.109.1) 1.57ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 17.80ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2020, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 6.48ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.42ms
304 GET /static/js/15.e5a998d7b6acda13aae0.js (192.168.109.1) 0.88ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:02:13 CST)" (scheduled at 2020-05-12 17:02:13.699651+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:02:43 CST)" executed successfully
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` ORDER BY `Host`.last_time DESC
{}
ROLLBACK
304 GET /gethost/ (192.168.109.1) 8.39ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.83ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 2, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 13.39ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 2}
ROLLBACK
304 GET /log/list?type=2 (192.168.109.1) 8.07ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.27ms
BEGIN (implicit)
SELECT `OpencanaryLog`.id AS `OpencanaryLog_id`, `OpencanaryLog`.dst_host AS `OpencanaryLog_dst_host`, `OpencanaryLog`.dst_port AS `OpencanaryLog_dst_port`, `OpencanaryLog`.honeycred AS `OpencanaryLog_honeycred`, `OpencanaryLog`.local_time AS `OpencanaryLog_local_time`, `OpencanaryLog`.hostname AS `OpencanaryLog_hostname`, `OpencanaryLog`.password AS `OpencanaryLog_password`, `OpencanaryLog`.path AS `OpencanaryLog_path`, `OpencanaryLog`.skin AS `OpencanaryLog_skin`, `OpencanaryLog`.useragent AS `OpencanaryLog_useragent`, `OpencanaryLog`.username AS `OpencanaryLog_username`, `OpencanaryLog`.session AS `OpencanaryLog_session`, `OpencanaryLog`.localversion AS `OpencanaryLog_localversion`, `OpencanaryLog`.remoteversion AS `OpencanaryLog_remoteversion`, `OpencanaryLog`.df AS `OpencanaryLog_df`, `OpencanaryLog`.idid AS `OpencanaryLog_idid`, `OpencanaryLog`.inin AS `OpencanaryLog_inin`, `OpencanaryLog`.lenlen AS `OpencanaryLog_lenlen`, `OpencanaryLog`.mac AS `OpencanaryLog_mac`, `OpencanaryLog`.outout AS `OpencanaryLog_outout`, `OpencanaryLog`.prec AS `OpencanaryLog_prec`, `OpencanaryLog`.proto AS `OpencanaryLog_proto`, `OpencanaryLog`.res AS `OpencanaryLog_res`, `OpencanaryLog`.syn AS `OpencanaryLog_syn`, `OpencanaryLog`.tos AS `OpencanaryLog_tos`, `OpencanaryLog`.ttl AS `OpencanaryLog_ttl`, `OpencanaryLog`.urgp AS `OpencanaryLog_urgp`, `OpencanaryLog`.`window` AS `OpencanaryLog_window`, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype`, `OpencanaryLog`.node_id AS `OpencanaryLog_node_id`, `OpencanaryLog`.src_host AS `OpencanaryLog_src_host`, `OpencanaryLog`.src_port AS `OpencanaryLog_src_port`, `OpencanaryLog`.white AS `OpencanaryLog_white`, `OpencanaryLog`.repo AS `OpencanaryLog_repo`, `OpencanaryLog`.ntp_cmd AS `OpencanaryLog_ntp_cmd`, `OpencanaryLog`.args AS `OpencanaryLog_args`, `OpencanaryLog`.cmd AS `OpencanaryLog_cmd`, `OpencanaryLog`.banner_id AS `OpencanaryLog_banner_id`, `OpencanaryLog`.data AS `OpencanaryLog_data`, `OpencanaryLog`.`function` AS `OpencanaryLog_function`, `OpencanaryLog`.vnc_client_response AS `OpencanaryLog_vnc_client_response`, `OpencanaryLog`.vnc_password AS `OpencanaryLog_vnc_password`, `OpencanaryLog`.vnc_server_challenge AS `OpencanaryLog_vnc_server_challenge`, `OpencanaryLog`.inputs AS `OpencanaryLog_inputs`, `OpencanaryLog`.domain AS `OpencanaryLog_domain`, `OpencanaryLog`.headers_call_id AS `OpencanaryLog_headers_call_id`, `OpencanaryLog`.headers_content_length AS `OpencanaryLog_headers_content_length`, `OpencanaryLog`.headers_cseq AS `OpencanaryLog_headers_cseq`, `OpencanaryLog`.headers_from AS `OpencanaryLog_headers_from`, `OpencanaryLog`.headers_to AS `OpencanaryLog_headers_to`, `OpencanaryLog`.headers_via AS `OpencanaryLog_headers_via`, `OpencanaryLog`.community_string AS `OpencanaryLog_community_string`, `OpencanaryLog`.requests AS `OpencanaryLog_requests`, `OpencanaryLog`.urg AS `OpencanaryLog_urg`, `OpencanaryLog`.psh AS `OpencanaryLog_psh`, `OpencanaryLog`.fin AS `OpencanaryLog_fin`, `OpencanaryLog`.appname AS `OpencanaryLog_appname`, `OpencanaryLog`.cltintname AS `OpencanaryLog_cltintname`, `OpencanaryLog`.`database` AS `OpencanaryLog_database`, `OpencanaryLog`.language AS `OpencanaryLog_language`, `OpencanaryLog`.servername AS `OpencanaryLog_servername`, `OpencanaryLog`.domainname AS `OpencanaryLog_domainname` 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s ORDER BY `OpencanaryLog`.local_time DESC, `OpencanaryLog`.id 
 LIMIT %(param_1)s, %(param_2)s
{'white_1': 1, 'param_1': 0, 'param_2': 10}
200 POST /log/list/ (192.168.109.1) 16.41ms
SELECT count(`OpencanaryLog`.id) AS count_1 
FROM `OpencanaryLog` 
WHERE `OpencanaryLog`.white = %(white_1)s
{'white_1': 1}
ROLLBACK
304 GET /log/list?type=1 (192.168.109.1) 8.52ms
/root/Desktop/opencanary_web/service/chartservice.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:03:05.803654+08:00 (in 29.999437 seconds)
304 GET /v1/filterlist (192.168.109.1) 1.80ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.51ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.92ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.50ms
304 GET / (192.168.109.1) 1.49ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.58ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.37ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 25.90ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.62ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:03:05 CST)" (scheduled at 2020-05-12 17:03:05.803654+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:03:35 CST)" executed successfully
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 8.67ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 14.72ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:03:49.887028+08:00 (in 29.998756 seconds)
304 GET /v1/static/img/favicon.ico (192.168.109.1) 3.52ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 31.05ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
200 GET /chart?line (192.168.109.1) 33.48ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
200 GET /chart/ (192.168.109.1) 30.10ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 4.34ms
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:04:14.186454+08:00 (in 29.997761 seconds)
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:04:16.316124+08:00 (in 29.998917 seconds)
304 GET /v1/static/img/favicon.ico (192.168.109.1) 2.10ms
SHOW VARIABLES LIKE 'sql_mode'
{}
SHOW VARIABLES LIKE 'lower_case_table_names'
{}
SELECT DATABASE()
{}
show collation where `Charset` = 'utf8mb4' and `Collation` = 'utf8mb4_bin'
{}
SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
{}
SELECT CAST('test collated returns' AS CHAR CHARACTER SET utf8mb4) COLLATE utf8mb4_bin AS anon_1
{}
BEGIN (implicit)
SELECT `User`.id AS `User_id`, `User`.username AS `User_username`, `User`.password AS `User_password`, `User`.create_time AS `User_create_time` 
FROM `User` 
WHERE `User`.username = %(username_1)s AND `User`.password = %(password_1)s
{'username_1': 'admin', 'password_1': '21232f297a57a5a743894a0e4a801fc3'}
ROLLBACK
200 POST /auth/ (192.168.109.1) 32.71ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 28.65ms
304 GET /v1/static/img/favicon.ico (192.168.109.1) 1.49ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 11.13ms
304 GET /v1/dashboard (192.168.109.1) 1.39ms
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2019, 'white_1': 2}
ROLLBACK
BEGIN (implicit)
SELECT EXTRACT(month FROM `OpencanaryLog`.local_time) AS month, count(%(count_1)s) AS count 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY month
{'count_1': '*', 'param_1': 2020, 'white_1': 1}
ROLLBACK
304 GET /chart?line (192.168.109.1) 16.47ms
BEGIN (implicit)
SELECT count(`OpencanaryLog`.logtype) AS count_1, `OpencanaryLog`.logtype AS `OpencanaryLog_logtype` 
FROM `OpencanaryLog` 
WHERE EXTRACT(year FROM `OpencanaryLog`.local_time) = %(param_1)s AND `OpencanaryLog`.white = %(white_1)s GROUP BY `OpencanaryLog`.logtype
{'param_1': 2019, 'white_1': 2}
ROLLBACK
304 GET /chart/ (192.168.109.1) 8.83ms
200 GET /v1/static/img/favicon.ico (192.168.109.1) 2.13ms
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:04:16 CST)" (scheduled at 2020-05-12 17:04:16.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:04:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:05:16 CST)" (scheduled at 2020-05-12 17:04:46.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:05:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:05:46 CST)" (scheduled at 2020-05-12 17:05:16.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:05:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:06:16 CST)" (scheduled at 2020-05-12 17:05:46.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:06:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:06:46 CST)" (scheduled at 2020-05-12 17:06:16.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:06:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:07:16 CST)" (scheduled at 2020-05-12 17:06:46.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:07:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:07:46 CST)" (scheduled at 2020-05-12 17:07:16.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:07:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:08:16 CST)" (scheduled at 2020-05-12 17:07:46.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:08:16 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:08:46 CST)" (scheduled at 2020-05-12 17:08:16.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:08:46 CST)" executed successfully
Running job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:09:16 CST)" (scheduled at 2020-05-12 17:08:46.316124+08:00)
BEGIN (implicit)
SELECT `Host`.id AS `Host_id`, `Host`.last_time AS `Host_last_time`, `Host`.hostname AS `Host_hostname`, `Host`.ip AS `Host_ip`, `Host`.status AS `Host_status` 
FROM `Host` 
WHERE `Host`.status = %(status_1)s ORDER BY `Host`.last_time DESC
{'status_1': 'online'}
ROLLBACK
Job "hostonline (trigger: interval[0:00:30], next run at: 2020-05-12 17:09:16 CST)" executed successfully
/root/Desktop/opencanary_web/util/auth.py modified; restarting server
Scheduler started
Looking for jobs to run
No jobs; waiting until a job is added
Added job "hostonline" to job store "default"
Looking for jobs to run
Next wakeup is due at 2020-05-12 17:09:21.872952+08:00 (in 29.999451 seconds)
